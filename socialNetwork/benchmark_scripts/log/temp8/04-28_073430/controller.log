 * Serving Flask app 'main'
 * Debug mode: off
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://10.244.5.229:5001
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:root:upstream-agent-5kp6l
ERROR:root:10.244.1.232
ERROR:root:upstream-agent-gbpp7
ERROR:root:10.244.4.116
ERROR:root:upstream-agent-jtpqx
ERROR:root:10.244.5.228
ERROR:root:upstream-agent-mbjt9
ERROR:root:10.244.2.136
ERROR:root:upstream-agent-wfgjv
ERROR:root:10.244.3.179
ERROR:root:[{'name': 'upstream-agent-5kp6l', 'pod_ip': '10.244.1.232', 'host_ip': '10.142.0.3'}, {'name': 'upstream-agent-gbpp7', 'pod_ip': '10.244.4.116', 'host_ip': '10.128.0.5'}, {'name': 'upstream-agent-jtpqx', 'pod_ip': '10.244.5.228', 'host_ip': '10.206.0.2'}, {'name': 'upstream-agent-mbjt9', 'pod_ip': '10.244.2.136', 'host_ip': '10.150.0.3'}, {'name': 'upstream-agent-wfgjv', 'pod_ip': '10.244.3.179', 'host_ip': '10.202.0.2'}]
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:33:13] "[32mGET /api/v1/agent HTTP/1.1[0m" 308 -
ERROR:root:upstream-agent-5kp6l
ERROR:root:10.244.1.232
ERROR:root:upstream-agent-gbpp7
ERROR:root:10.244.4.116
ERROR:root:upstream-agent-jtpqx
ERROR:root:10.244.5.228
ERROR:root:upstream-agent-mbjt9
ERROR:root:10.244.2.136
ERROR:root:upstream-agent-wfgjv
ERROR:root:10.244.3.179
ERROR:root:[{'name': 'upstream-agent-5kp6l', 'pod_ip': '10.244.1.232', 'host_ip': '10.142.0.3'}, {'name': 'upstream-agent-gbpp7', 'pod_ip': '10.244.4.116', 'host_ip': '10.128.0.5'}, {'name': 'upstream-agent-jtpqx', 'pod_ip': '10.244.5.228', 'host_ip': '10.206.0.2'}, {'name': 'upstream-agent-mbjt9', 'pod_ip': '10.244.2.136', 'host_ip': '10.150.0.3'}, {'name': 'upstream-agent-wfgjv', 'pod_ip': '10.244.3.179', 'host_ip': '10.202.0.2'}]
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:33:13] "GET /api/v1/agent/ HTTP/1.1" 200 -
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:33:13] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:33:25] "[32mGET /api/v1/agent HTTP/1.1[0m" 308 -
ERROR:root:upstream-agent-5kp6l
ERROR:root:10.244.1.232
ERROR:root:upstream-agent-gbpp7
ERROR:root:10.244.4.116
ERROR:root:upstream-agent-jtpqx
ERROR:root:10.244.5.228
ERROR:root:upstream-agent-mbjt9
ERROR:root:10.244.2.136
ERROR:root:upstream-agent-wfgjv
ERROR:root:10.244.3.179
ERROR:root:[{'name': 'upstream-agent-5kp6l', 'pod_ip': '10.244.1.232', 'host_ip': '10.142.0.3'}, {'name': 'upstream-agent-gbpp7', 'pod_ip': '10.244.4.116', 'host_ip': '10.128.0.5'}, {'name': 'upstream-agent-jtpqx', 'pod_ip': '10.244.5.228', 'host_ip': '10.206.0.2'}, {'name': 'upstream-agent-mbjt9', 'pod_ip': '10.244.2.136', 'host_ip': '10.150.0.3'}, {'name': 'upstream-agent-wfgjv', 'pod_ip': '10.244.3.179', 'host_ip': '10.202.0.2'}]
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:33:25] "GET /api/v1/agent/ HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:33:25] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:33:28] "[32mGET /api/v1/agent HTTP/1.1[0m" 308 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:33:28] "[32mGET /api/v1/agent HTTP/1.1[0m" 308 -
ERROR:root:upstream-agent-5kp6l
ERROR:root:10.244.1.232
ERROR:root:upstream-agent-gbpp7
ERROR:root:10.244.4.116
ERROR:root:upstream-agent-jtpqx
ERROR:root:10.244.5.228
ERROR:root:upstream-agent-mbjt9
ERROR:root:10.244.2.136
ERROR:root:upstream-agent-wfgjv
ERROR:root:10.244.3.179
ERROR:root:[{'name': 'upstream-agent-5kp6l', 'pod_ip': '10.244.1.232', 'host_ip': '10.142.0.3'}, {'name': 'upstream-agent-gbpp7', 'pod_ip': '10.244.4.116', 'host_ip': '10.128.0.5'}, {'name': 'upstream-agent-jtpqx', 'pod_ip': '10.244.5.228', 'host_ip': '10.206.0.2'}, {'name': 'upstream-agent-mbjt9', 'pod_ip': '10.244.2.136', 'host_ip': '10.150.0.3'}, {'name': 'upstream-agent-wfgjv', 'pod_ip': '10.244.3.179', 'host_ip': '10.202.0.2'}]
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:33:28] "GET /api/v1/agent/ HTTP/1.1" 200 -
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:33:28] "GET /api/v1/hpas HTTP/1.1" 200 -
ERROR:root:upstream-agent-5kp6l
ERROR:root:10.244.1.232
ERROR:root:upstream-agent-gbpp7
ERROR:root:10.244.4.116
ERROR:root:upstream-agent-jtpqx
ERROR:root:10.244.5.228
ERROR:root:upstream-agent-mbjt9
ERROR:root:10.244.2.136
ERROR:root:upstream-agent-wfgjv
ERROR:root:10.244.3.179
ERROR:root:[{'name': 'upstream-agent-5kp6l', 'pod_ip': '10.244.1.232', 'host_ip': '10.142.0.3'}, {'name': 'upstream-agent-gbpp7', 'pod_ip': '10.244.4.116', 'host_ip': '10.128.0.5'}, {'name': 'upstream-agent-jtpqx', 'pod_ip': '10.244.5.228', 'host_ip': '10.206.0.2'}, {'name': 'upstream-agent-mbjt9', 'pod_ip': '10.244.2.136', 'host_ip': '10.150.0.3'}, {'name': 'upstream-agent-wfgjv', 'pod_ip': '10.244.3.179', 'host_ip': '10.202.0.2'}]
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:33:28] "GET /api/v1/agent/ HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:33:28] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:33:28] "[32mGET /api/v1/agent HTTP/1.1[0m" 308 -
ERROR:root:upstream-agent-5kp6l
ERROR:root:10.244.1.232
ERROR:root:upstream-agent-gbpp7
ERROR:root:10.244.4.116
ERROR:root:upstream-agent-jtpqx
ERROR:root:10.244.5.228
ERROR:root:upstream-agent-mbjt9
ERROR:root:10.244.2.136
ERROR:root:upstream-agent-wfgjv
ERROR:root:10.244.3.179
ERROR:root:[{'name': 'upstream-agent-5kp6l', 'pod_ip': '10.244.1.232', 'host_ip': '10.142.0.3'}, {'name': 'upstream-agent-gbpp7', 'pod_ip': '10.244.4.116', 'host_ip': '10.128.0.5'}, {'name': 'upstream-agent-jtpqx', 'pod_ip': '10.244.5.228', 'host_ip': '10.206.0.2'}, {'name': 'upstream-agent-mbjt9', 'pod_ip': '10.244.2.136', 'host_ip': '10.150.0.3'}, {'name': 'upstream-agent-wfgjv', 'pod_ip': '10.244.3.179', 'host_ip': '10.202.0.2'}]
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:33:29] "GET /api/v1/agent/ HTTP/1.1" 200 -
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:33:29] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:33:29] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:33:40] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:33:43] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:33:44] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:33:44] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:33:44] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:33:55] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:33:58] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:33:59] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:33:59] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:33:59] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:34:10] "GET /api/v1/hpas HTTP/1.1" 200 -
ERROR:root:upstream-agent-5kp6l
ERROR:root:10.244.1.232
ERROR:root:upstream-agent-gbpp7
ERROR:root:10.244.4.116
ERROR:root:upstream-agent-jtpqx
ERROR:root:10.244.5.228
ERROR:root:upstream-agent-mbjt9
ERROR:root:10.244.2.136
ERROR:root:upstream-agent-wfgjv
ERROR:root:10.244.3.179
ERROR:root:[{'name': 'upstream-agent-5kp6l', 'pod_ip': '10.244.1.232', 'host_ip': '10.142.0.3'}, {'name': 'upstream-agent-gbpp7', 'pod_ip': '10.244.4.116', 'host_ip': '10.128.0.5'}, {'name': 'upstream-agent-jtpqx', 'pod_ip': '10.244.5.228', 'host_ip': '10.206.0.2'}, {'name': 'upstream-agent-mbjt9', 'pod_ip': '10.244.2.136', 'host_ip': '10.150.0.3'}, {'name': 'upstream-agent-wfgjv', 'pod_ip': '10.244.3.179', 'host_ip': '10.202.0.2'}]
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:34:14] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:34:14] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:34:15] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:34:15] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:34:25] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:34:29] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:34:29] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:34:30] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:34:30] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:34:39] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 52968, 'timestamp': 1714289670001}, {'usage': 52968, 'timestamp': 1714289671007}, {'usage': 52968, 'timestamp': 1714289672012}, {'usage': 52968, 'timestamp': 1714289673018}, {'usage': 53021, 'timestamp': 1714289674024}, {'usage': 53021, 'timestamp': 1714289675029}, {'usage': 53021, 'timestamp': 1714289676034}, {'usage': 53021, 'timestamp': 1714289677040}, {'usage': 109517, 'timestamp': 1714289678045}, {'usage': 185293, 'timestamp': 1714289679050}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: compose-post-service, usage_rate: 251.33001658374795, involved_nodes: 1, current_cpu_usage_rate: 251.33001658374795, target_cpu_utilization: 80
ERROR:root:Scale out [compose-post-service] replicas: 4
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:34:39] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:34:40] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:34:40] "GET /api/v1/hpas HTTP/1.1" 200 -
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 39170, 'timestamp': 1714289670726}, {'usage': 39170, 'timestamp': 1714289671729}, {'usage': 39170, 'timestamp': 1714289672731}, {'usage': 39210, 'timestamp': 1714289673734}, {'usage': 39210, 'timestamp': 1714289674737}, {'usage': 39210, 'timestamp': 1714289675740}, {'usage': 39210, 'timestamp': 1714289676742}, {'usage': 84621, 'timestamp': 1714289677745}, {'usage': 138564, 'timestamp': 1714289678747}, {'usage': 204610, 'timestamp': 1714289679751}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: home-timeline-service, usage_rate: 219.27622841965473, involved_nodes: 1, current_cpu_usage_rate: 219.27622841965473, target_cpu_utilization: 80
ERROR:root:Scale out [home-timeline-service] replicas: 3
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:34:41] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:34:41] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:34:41] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:34:42] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:34:42] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:34:42] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:34:43] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:34:44] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 46318, 'timestamp': 1714289674517}, {'usage': 46318, 'timestamp': 1714289675520}, {'usage': 46318, 'timestamp': 1714289676523}, {'usage': 68270, 'timestamp': 1714289677526}, {'usage': 93289, 'timestamp': 1714289678528}, {'usage': 121465, 'timestamp': 1714289679532}, {'usage': 144207, 'timestamp': 1714289680535}, {'usage': 210696, 'timestamp': 1714289681538}, {'usage': 272560, 'timestamp': 1714289682690}, {'usage': 272560, 'timestamp': 1714289683839}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: user-timeline-service, usage_rate: 0.0, involved_nodes: 1, current_cpu_usage_rate: 0.0, target_cpu_utilization: 80
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:34:44] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:34:44] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:34:45] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:34:45] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:34:45] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:34:45] "GET /api/v1/hpas HTTP/1.1" 200 -
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 46318, 'timestamp': 1714289676523}, {'usage': 68270, 'timestamp': 1714289677526}, {'usage': 93289, 'timestamp': 1714289678528}, {'usage': 121465, 'timestamp': 1714289679532}, {'usage': 144207, 'timestamp': 1714289680535}, {'usage': 210696, 'timestamp': 1714289681538}, {'usage': 272560, 'timestamp': 1714289682690}, {'usage': 272560, 'timestamp': 1714289683839}, {'usage': 272560, 'timestamp': 1714289685141}, {'usage': 272560, 'timestamp': 1714289686296}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: user-timeline-service, usage_rate: 0.0, involved_nodes: 1, current_cpu_usage_rate: 0.0, target_cpu_utilization: 80
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:34:51] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 210696, 'timestamp': 1714289681538}, {'usage': 272560, 'timestamp': 1714289682690}, {'usage': 272560, 'timestamp': 1714289683839}, {'usage': 272560, 'timestamp': 1714289685141}, {'usage': 272560, 'timestamp': 1714289686296}, {'usage': 273194, 'timestamp': 1714289687301}, {'usage': 273194, 'timestamp': 1714289688306}, {'usage': 273194, 'timestamp': 1714289689311}, {'usage': 329006, 'timestamp': 1714289690316}, {'usage': 401418, 'timestamp': 1714289691321}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: user-timeline-service, usage_rate: 240.17247097844114, involved_nodes: 1, current_cpu_usage_rate: 240.17247097844114, target_cpu_utilization: 80
ERROR:root:Scale out [user-timeline-service] replicas: 4
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:34:52] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:34:53] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:34:54] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:34:55] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:34:59] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:35:00] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:35:00] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:35:01] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:35:11] "GET /api/v1/hpas HTTP/1.1" 200 -
ERROR:root:upstream-agent-5kp6l
ERROR:root:10.244.1.232
ERROR:root:upstream-agent-gbpp7
ERROR:root:10.244.4.116
ERROR:root:upstream-agent-jtpqx
ERROR:root:10.244.5.228
ERROR:root:upstream-agent-mbjt9
ERROR:root:10.244.2.136
ERROR:root:upstream-agent-wfgjv
ERROR:root:10.244.3.179
ERROR:root:[{'name': 'upstream-agent-5kp6l', 'pod_ip': '10.244.1.232', 'host_ip': '10.142.0.3'}, {'name': 'upstream-agent-gbpp7', 'pod_ip': '10.244.4.116', 'host_ip': '10.128.0.5'}, {'name': 'upstream-agent-jtpqx', 'pod_ip': '10.244.5.228', 'host_ip': '10.206.0.2'}, {'name': 'upstream-agent-mbjt9', 'pod_ip': '10.244.2.136', 'host_ip': '10.150.0.3'}, {'name': 'upstream-agent-wfgjv', 'pod_ip': '10.244.3.179', 'host_ip': '10.202.0.2'}]
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:35:14] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:35:15] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:35:15] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:35:16] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:35:26] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:35:28] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:{'container_name': 'post-storage-service', 'cpu_request': 30, 'usages': [{'usage': 482081, 'timestamp': 1714289719693}, {'usage': 482081, 'timestamp': 1714289720701}, {'usage': 482081, 'timestamp': 1714289721709}, {'usage': 482081, 'timestamp': 1714289722717}, {'usage': 482313, 'timestamp': 1714289723725}, {'usage': 482635, 'timestamp': 1714289724733}, {'usage': 482635, 'timestamp': 1714289725742}, {'usage': 483846, 'timestamp': 1714289726750}, {'usage': 568590, 'timestamp': 1714289727759}, {'usage': 613233, 'timestamp': 1714289728768}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: post-storage-service, usage_rate: 147.4826560951437, involved_nodes: 1, current_cpu_usage_rate: 147.4826560951437, target_cpu_utilization: 80
ERROR:root:Scale out [post-storage-service] replicas: 2
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:35:29] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:35:30] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:35:30] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:35:31] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:35:31] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:35:31] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:35:32] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:35:41] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:35:45] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:35:46] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:35:46] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:35:47] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:35:51] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:35:52] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:{'container_name': 'text-service', 'cpu_request': 30, 'usages': [{'usage': 417160, 'timestamp': 1714289743407}, {'usage': 417322, 'timestamp': 1714289744413}, {'usage': 417322, 'timestamp': 1714289745419}, {'usage': 417322, 'timestamp': 1714289746425}, {'usage': 417322, 'timestamp': 1714289747430}, {'usage': 468576, 'timestamp': 1714289748436}, {'usage': 486443, 'timestamp': 1714289749441}, {'usage': 527616, 'timestamp': 1714289750447}, {'usage': 546474, 'timestamp': 1714289751453}, {'usage': 594231, 'timestamp': 1714289752532}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: text-service, usage_rate: 147.53475440222428, involved_nodes: 1, current_cpu_usage_rate: 147.53475440222428, target_cpu_utilization: 80
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:35:52] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:Scale out [text-service] replicas: 2
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:35:53] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:35:53] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 527974, 'timestamp': 1714289743837}, {'usage': 527974, 'timestamp': 1714289744844}, {'usage': 527974, 'timestamp': 1714289745853}, {'usage': 527974, 'timestamp': 1714289746977}, {'usage': 547534, 'timestamp': 1714289747985}, {'usage': 566941, 'timestamp': 1714289748994}, {'usage': 590098, 'timestamp': 1714289750002}, {'usage': 633739, 'timestamp': 1714289751011}, {'usage': 657308, 'timestamp': 1714289752020}, {'usage': 675134, 'timestamp': 1714289753229}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 268090, 'timestamp': 1714289744431}, {'usage': 268090, 'timestamp': 1714289745436}, {'usage': 268090, 'timestamp': 1714289746567}, {'usage': 281820, 'timestamp': 1714289747572}, {'usage': 302894, 'timestamp': 1714289748577}, {'usage': 315694, 'timestamp': 1714289749582}, {'usage': 333100, 'timestamp': 1714289750587}, {'usage': 349211, 'timestamp': 1714289751592}, {'usage': 365003, 'timestamp': 1714289752597}, {'usage': 381326, 'timestamp': 1714289753602}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 188295, 'timestamp': 1714289743914}, {'usage': 188295, 'timestamp': 1714289745023}, {'usage': 188295, 'timestamp': 1714289746029}, {'usage': 188295, 'timestamp': 1714289747034}, {'usage': 197105, 'timestamp': 1714289748039}, {'usage': 205752, 'timestamp': 1714289749043}, {'usage': 220206, 'timestamp': 1714289750048}, {'usage': 227340, 'timestamp': 1714289751054}, {'usage': 232561, 'timestamp': 1714289752059}, {'usage': 237200, 'timestamp': 1714289753064}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 241795, 'timestamp': 1714289744412}, {'usage': 241795, 'timestamp': 1714289745418}, {'usage': 241795, 'timestamp': 1714289746424}, {'usage': 241795, 'timestamp': 1714289747428}, {'usage': 270217, 'timestamp': 1714289748434}, {'usage': 279085, 'timestamp': 1714289749440}, {'usage': 291747, 'timestamp': 1714289750446}, {'usage': 304674, 'timestamp': 1714289751452}, {'usage': 322343, 'timestamp': 1714289752531}, {'usage': 343521, 'timestamp': 1714289753607}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: compose-post-service, usage_rate: 184.28094816688065, involved_nodes: 4, current_cpu_usage_rate: 46.07023704172016, target_cpu_utilization: 80
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:35:54] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:35:55] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:35:56] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:35:56] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:36:00] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:36:01] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:36:01] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:36:02] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:36:03] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 403050, 'timestamp': 1714289754486}, {'usage': 418580, 'timestamp': 1714289755493}, {'usage': 446504, 'timestamp': 1714289756502}, {'usage': 446504, 'timestamp': 1714289757511}, {'usage': 446504, 'timestamp': 1714289758520}, {'usage': 446504, 'timestamp': 1714289759528}, {'usage': 493084, 'timestamp': 1714289760537}, {'usage': 509081, 'timestamp': 1714289761546}, {'usage': 557499, 'timestamp': 1714289762667}, {'usage': 574891, 'timestamp': 1714289763676}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 836965, 'timestamp': 1714289755620}, {'usage': 843892, 'timestamp': 1714289756626}, {'usage': 844363, 'timestamp': 1714289757631}, {'usage': 844363, 'timestamp': 1714289758636}, {'usage': 844363, 'timestamp': 1714289759641}, {'usage': 873966, 'timestamp': 1714289760646}, {'usage': 882619, 'timestamp': 1714289761738}, {'usage': 909993, 'timestamp': 1714289762743}, {'usage': 917303, 'timestamp': 1714289763748}, {'usage': 930591, 'timestamp': 1714289764753}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 305602, 'timestamp': 1714289755079}, {'usage': 317466, 'timestamp': 1714289756084}, {'usage': 317466, 'timestamp': 1714289757089}, {'usage': 317843, 'timestamp': 1714289758094}, {'usage': 318025, 'timestamp': 1714289759098}, {'usage': 336309, 'timestamp': 1714289760185}, {'usage': 340872, 'timestamp': 1714289761190}, {'usage': 356401, 'timestamp': 1714289762195}, {'usage': 361682, 'timestamp': 1714289763199}, {'usage': 374308, 'timestamp': 1714289764204}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 435371, 'timestamp': 1714289754751}, {'usage': 447301, 'timestamp': 1714289755824}, {'usage': 447403, 'timestamp': 1714289756990}, {'usage': 447403, 'timestamp': 1714289757996}, {'usage': 447403, 'timestamp': 1714289759002}, {'usage': 462819, 'timestamp': 1714289760008}, {'usage': 475214, 'timestamp': 1714289761013}, {'usage': 496327, 'timestamp': 1714289762021}, {'usage': 513022, 'timestamp': 1714289763028}, {'usage': 524106, 'timestamp': 1714289764034}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: user-timeline-service, usage_rate: 180.13278485774651, involved_nodes: 4, current_cpu_usage_rate: 45.03319621443663, target_cpu_utilization: 80
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:36:05] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 418580, 'timestamp': 1714289755493}, {'usage': 446504, 'timestamp': 1714289756502}, {'usage': 446504, 'timestamp': 1714289757511}, {'usage': 446504, 'timestamp': 1714289758520}, {'usage': 446504, 'timestamp': 1714289759528}, {'usage': 493084, 'timestamp': 1714289760537}, {'usage': 509081, 'timestamp': 1714289761546}, {'usage': 557499, 'timestamp': 1714289762667}, {'usage': 574891, 'timestamp': 1714289763676}, {'usage': 603870, 'timestamp': 1714289764890}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 843892, 'timestamp': 1714289756626}, {'usage': 844363, 'timestamp': 1714289757631}, {'usage': 844363, 'timestamp': 1714289758636}, {'usage': 844363, 'timestamp': 1714289759641}, {'usage': 873966, 'timestamp': 1714289760646}, {'usage': 882619, 'timestamp': 1714289761738}, {'usage': 909993, 'timestamp': 1714289762743}, {'usage': 917303, 'timestamp': 1714289763748}, {'usage': 930591, 'timestamp': 1714289764753}, {'usage': 934855, 'timestamp': 1714289765758}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 317466, 'timestamp': 1714289756084}, {'usage': 317466, 'timestamp': 1714289757089}, {'usage': 317843, 'timestamp': 1714289758094}, {'usage': 318025, 'timestamp': 1714289759098}, {'usage': 336309, 'timestamp': 1714289760185}, {'usage': 340872, 'timestamp': 1714289761190}, {'usage': 356401, 'timestamp': 1714289762195}, {'usage': 361682, 'timestamp': 1714289763199}, {'usage': 374308, 'timestamp': 1714289764204}, {'usage': 377651, 'timestamp': 1714289765210}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 447301, 'timestamp': 1714289755824}, {'usage': 447403, 'timestamp': 1714289756990}, {'usage': 447403, 'timestamp': 1714289757996}, {'usage': 447403, 'timestamp': 1714289759002}, {'usage': 462819, 'timestamp': 1714289760008}, {'usage': 475214, 'timestamp': 1714289761013}, {'usage': 496327, 'timestamp': 1714289762021}, {'usage': 513022, 'timestamp': 1714289763028}, {'usage': 524106, 'timestamp': 1714289764034}, {'usage': 533345, 'timestamp': 1714289765040}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: user-timeline-service, usage_rate: 135.40139924398846, involved_nodes: 4, current_cpu_usage_rate: 33.850349810997116, target_cpu_utilization: 80
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:36:06] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 446504, 'timestamp': 1714289756502}, {'usage': 446504, 'timestamp': 1714289757511}, {'usage': 446504, 'timestamp': 1714289758520}, {'usage': 446504, 'timestamp': 1714289759528}, {'usage': 493084, 'timestamp': 1714289760537}, {'usage': 509081, 'timestamp': 1714289761546}, {'usage': 557499, 'timestamp': 1714289762667}, {'usage': 574891, 'timestamp': 1714289763676}, {'usage': 603870, 'timestamp': 1714289764890}, {'usage': 641403, 'timestamp': 1714289766099}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 844363, 'timestamp': 1714289757631}, {'usage': 844363, 'timestamp': 1714289758636}, {'usage': 844363, 'timestamp': 1714289759641}, {'usage': 873966, 'timestamp': 1714289760646}, {'usage': 882619, 'timestamp': 1714289761738}, {'usage': 909993, 'timestamp': 1714289762743}, {'usage': 917303, 'timestamp': 1714289763748}, {'usage': 930591, 'timestamp': 1714289764753}, {'usage': 934855, 'timestamp': 1714289765758}, {'usage': 949739, 'timestamp': 1714289766763}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 317466, 'timestamp': 1714289757089}, {'usage': 317843, 'timestamp': 1714289758094}, {'usage': 318025, 'timestamp': 1714289759098}, {'usage': 336309, 'timestamp': 1714289760185}, {'usage': 340872, 'timestamp': 1714289761190}, {'usage': 356401, 'timestamp': 1714289762195}, {'usage': 361682, 'timestamp': 1714289763199}, {'usage': 374308, 'timestamp': 1714289764204}, {'usage': 377651, 'timestamp': 1714289765210}, {'usage': 386573, 'timestamp': 1714289766215}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 447403, 'timestamp': 1714289756990}, {'usage': 447403, 'timestamp': 1714289757996}, {'usage': 447403, 'timestamp': 1714289759002}, {'usage': 462819, 'timestamp': 1714289760008}, {'usage': 475214, 'timestamp': 1714289761013}, {'usage': 496327, 'timestamp': 1714289762021}, {'usage': 513022, 'timestamp': 1714289763028}, {'usage': 524106, 'timestamp': 1714289764034}, {'usage': 533345, 'timestamp': 1714289765040}, {'usage': 549570, 'timestamp': 1714289766046}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: user-timeline-service, usage_rate: 236.20152605921288, involved_nodes: 4, current_cpu_usage_rate: 59.05038151480322, target_cpu_utilization: 80
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:36:07] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 446504, 'timestamp': 1714289757511}, {'usage': 446504, 'timestamp': 1714289758520}, {'usage': 446504, 'timestamp': 1714289759528}, {'usage': 493084, 'timestamp': 1714289760537}, {'usage': 509081, 'timestamp': 1714289761546}, {'usage': 557499, 'timestamp': 1714289762667}, {'usage': 574891, 'timestamp': 1714289763676}, {'usage': 603870, 'timestamp': 1714289764890}, {'usage': 641403, 'timestamp': 1714289766099}, {'usage': 670067, 'timestamp': 1714289767308}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 844363, 'timestamp': 1714289758636}, {'usage': 844363, 'timestamp': 1714289759641}, {'usage': 873966, 'timestamp': 1714289760646}, {'usage': 882619, 'timestamp': 1714289761738}, {'usage': 909993, 'timestamp': 1714289762743}, {'usage': 917303, 'timestamp': 1714289763748}, {'usage': 930591, 'timestamp': 1714289764753}, {'usage': 934855, 'timestamp': 1714289765758}, {'usage': 949739, 'timestamp': 1714289766763}, {'usage': 953790, 'timestamp': 1714289767768}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 317843, 'timestamp': 1714289758094}, {'usage': 318025, 'timestamp': 1714289759098}, {'usage': 336309, 'timestamp': 1714289760185}, {'usage': 340872, 'timestamp': 1714289761190}, {'usage': 356401, 'timestamp': 1714289762195}, {'usage': 361682, 'timestamp': 1714289763199}, {'usage': 374308, 'timestamp': 1714289764204}, {'usage': 377651, 'timestamp': 1714289765210}, {'usage': 386573, 'timestamp': 1714289766215}, {'usage': 388744, 'timestamp': 1714289767220}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 447403, 'timestamp': 1714289757996}, {'usage': 447403, 'timestamp': 1714289759002}, {'usage': 462819, 'timestamp': 1714289760008}, {'usage': 475214, 'timestamp': 1714289761013}, {'usage': 496327, 'timestamp': 1714289762021}, {'usage': 513022, 'timestamp': 1714289763028}, {'usage': 524106, 'timestamp': 1714289764034}, {'usage': 533345, 'timestamp': 1714289765040}, {'usage': 549570, 'timestamp': 1714289766046}, {'usage': 564172, 'timestamp': 1714289767053}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: user-timeline-service, usage_rate: 148.00130529981516, involved_nodes: 4, current_cpu_usage_rate: 37.00032632495379, target_cpu_utilization: 80
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:36:11] "GET /api/v1/hpas HTTP/1.1" 200 -
ERROR:root:upstream-agent-5kp6l
ERROR:root:10.244.1.232
ERROR:root:upstream-agent-gbpp7
ERROR:root:10.244.4.116
ERROR:root:upstream-agent-jtpqx
ERROR:root:10.244.5.228
ERROR:root:upstream-agent-mbjt9
ERROR:root:10.244.2.136
ERROR:root:upstream-agent-wfgjv
ERROR:root:10.244.3.179
ERROR:root:[{'name': 'upstream-agent-5kp6l', 'pod_ip': '10.244.1.232', 'host_ip': '10.142.0.3'}, {'name': 'upstream-agent-gbpp7', 'pod_ip': '10.244.4.116', 'host_ip': '10.128.0.5'}, {'name': 'upstream-agent-jtpqx', 'pod_ip': '10.244.5.228', 'host_ip': '10.206.0.2'}, {'name': 'upstream-agent-mbjt9', 'pod_ip': '10.244.2.136', 'host_ip': '10.150.0.3'}, {'name': 'upstream-agent-wfgjv', 'pod_ip': '10.244.3.179', 'host_ip': '10.202.0.2'}]
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:36:15] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:36:15] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 641403, 'timestamp': 1714289766099}, {'usage': 670067, 'timestamp': 1714289767308}, {'usage': 692150, 'timestamp': 1714289768518}, {'usage': 692150, 'timestamp': 1714289769527}, {'usage': 692150, 'timestamp': 1714289770536}, {'usage': 692150, 'timestamp': 1714289771544}, {'usage': 718323, 'timestamp': 1714289772554}, {'usage': 763994, 'timestamp': 1714289773563}, {'usage': 794916, 'timestamp': 1714289774574}, {'usage': 818964, 'timestamp': 1714289775582}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 949739, 'timestamp': 1714289766763}, {'usage': 953790, 'timestamp': 1714289767768}, {'usage': 966476, 'timestamp': 1714289768774}, {'usage': 966476, 'timestamp': 1714289769779}, {'usage': 967181, 'timestamp': 1714289770784}, {'usage': 967181, 'timestamp': 1714289771790}, {'usage': 989684, 'timestamp': 1714289772795}, {'usage': 996551, 'timestamp': 1714289773800}, {'usage': 1019682, 'timestamp': 1714289774805}, {'usage': 1028302, 'timestamp': 1714289775810}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 386573, 'timestamp': 1714289766215}, {'usage': 388744, 'timestamp': 1714289767220}, {'usage': 393210, 'timestamp': 1714289768226}, {'usage': 393210, 'timestamp': 1714289769231}, {'usage': 395148, 'timestamp': 1714289770236}, {'usage': 395148, 'timestamp': 1714289771240}, {'usage': 397055, 'timestamp': 1714289772245}, {'usage': 406788, 'timestamp': 1714289773250}, {'usage': 410900, 'timestamp': 1714289774255}, {'usage': 424745, 'timestamp': 1714289775351}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 549570, 'timestamp': 1714289766046}, {'usage': 564172, 'timestamp': 1714289767053}, {'usage': 584062, 'timestamp': 1714289768058}, {'usage': 590735, 'timestamp': 1714289769065}, {'usage': 591771, 'timestamp': 1714289770071}, {'usage': 592013, 'timestamp': 1714289771076}, {'usage': 592763, 'timestamp': 1714289772173}, {'usage': 620634, 'timestamp': 1714289773178}, {'usage': 634593, 'timestamp': 1714289774184}, {'usage': 661044, 'timestamp': 1714289775190}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: user-timeline-service, usage_rate: 237.8659903724553, involved_nodes: 4, current_cpu_usage_rate: 59.46649759311382, target_cpu_utilization: 80
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:36:16] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:36:16] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:36:16] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 670067, 'timestamp': 1714289767308}, {'usage': 692150, 'timestamp': 1714289768518}, {'usage': 692150, 'timestamp': 1714289769527}, {'usage': 692150, 'timestamp': 1714289770536}, {'usage': 692150, 'timestamp': 1714289771544}, {'usage': 718323, 'timestamp': 1714289772554}, {'usage': 763994, 'timestamp': 1714289773563}, {'usage': 794916, 'timestamp': 1714289774574}, {'usage': 818964, 'timestamp': 1714289775582}, {'usage': 842713, 'timestamp': 1714289776791}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 953790, 'timestamp': 1714289767768}, {'usage': 966476, 'timestamp': 1714289768774}, {'usage': 966476, 'timestamp': 1714289769779}, {'usage': 967181, 'timestamp': 1714289770784}, {'usage': 967181, 'timestamp': 1714289771790}, {'usage': 989684, 'timestamp': 1714289772795}, {'usage': 996551, 'timestamp': 1714289773800}, {'usage': 1019682, 'timestamp': 1714289774805}, {'usage': 1028302, 'timestamp': 1714289775810}, {'usage': 1041606, 'timestamp': 1714289776905}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 388744, 'timestamp': 1714289767220}, {'usage': 393210, 'timestamp': 1714289768226}, {'usage': 393210, 'timestamp': 1714289769231}, {'usage': 395148, 'timestamp': 1714289770236}, {'usage': 395148, 'timestamp': 1714289771240}, {'usage': 397055, 'timestamp': 1714289772245}, {'usage': 406788, 'timestamp': 1714289773250}, {'usage': 410900, 'timestamp': 1714289774255}, {'usage': 424745, 'timestamp': 1714289775351}, {'usage': 430617, 'timestamp': 1714289776358}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 564172, 'timestamp': 1714289767053}, {'usage': 584062, 'timestamp': 1714289768058}, {'usage': 590735, 'timestamp': 1714289769065}, {'usage': 591771, 'timestamp': 1714289770071}, {'usage': 592013, 'timestamp': 1714289771076}, {'usage': 592763, 'timestamp': 1714289772173}, {'usage': 620634, 'timestamp': 1714289773178}, {'usage': 634593, 'timestamp': 1714289774184}, {'usage': 661044, 'timestamp': 1714289775190}, {'usage': 669282, 'timestamp': 1714289776196}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: user-timeline-service, usage_rate: 152.71109082403655, involved_nodes: 4, current_cpu_usage_rate: 38.17777270600914, target_cpu_utilization: 80
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:36:17] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:36:18] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 692150, 'timestamp': 1714289768518}, {'usage': 692150, 'timestamp': 1714289769527}, {'usage': 692150, 'timestamp': 1714289770536}, {'usage': 692150, 'timestamp': 1714289771544}, {'usage': 718323, 'timestamp': 1714289772554}, {'usage': 763994, 'timestamp': 1714289773563}, {'usage': 794916, 'timestamp': 1714289774574}, {'usage': 818964, 'timestamp': 1714289775582}, {'usage': 842713, 'timestamp': 1714289776791}, {'usage': 854881, 'timestamp': 1714289778001}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 966476, 'timestamp': 1714289769779}, {'usage': 967181, 'timestamp': 1714289770784}, {'usage': 967181, 'timestamp': 1714289771790}, {'usage': 989684, 'timestamp': 1714289772795}, {'usage': 996551, 'timestamp': 1714289773800}, {'usage': 1019682, 'timestamp': 1714289774805}, {'usage': 1028302, 'timestamp': 1714289775810}, {'usage': 1041606, 'timestamp': 1714289776905}, {'usage': 1048782, 'timestamp': 1714289777910}, {'usage': 1065140, 'timestamp': 1714289778915}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 393210, 'timestamp': 1714289769231}, {'usage': 395148, 'timestamp': 1714289770236}, {'usage': 395148, 'timestamp': 1714289771240}, {'usage': 397055, 'timestamp': 1714289772245}, {'usage': 406788, 'timestamp': 1714289773250}, {'usage': 410900, 'timestamp': 1714289774255}, {'usage': 424745, 'timestamp': 1714289775351}, {'usage': 430617, 'timestamp': 1714289776358}, {'usage': 435996, 'timestamp': 1714289777363}, {'usage': 444467, 'timestamp': 1714289778368}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 591771, 'timestamp': 1714289770071}, {'usage': 592013, 'timestamp': 1714289771076}, {'usage': 592763, 'timestamp': 1714289772173}, {'usage': 620634, 'timestamp': 1714289773178}, {'usage': 634593, 'timestamp': 1714289774184}, {'usage': 661044, 'timestamp': 1714289775190}, {'usage': 669282, 'timestamp': 1714289776196}, {'usage': 695195, 'timestamp': 1714289777202}, {'usage': 705453, 'timestamp': 1714289778207}, {'usage': 726139, 'timestamp': 1714289779213}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: user-timeline-service, usage_rate: 184.41431746132173, involved_nodes: 4, current_cpu_usage_rate: 46.10357936533043, target_cpu_utilization: 80
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:36:26] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:36:30] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:36:31] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:36:31] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:36:33] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:36:41] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:36:45] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:36:47] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:36:47] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:36:48] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:36:54] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 1296886, 'timestamp': 1714289804647}, {'usage': 1312965, 'timestamp': 1714289805656}, {'usage': 1312965, 'timestamp': 1714289806664}, {'usage': 1313467, 'timestamp': 1714289807672}, {'usage': 1313467, 'timestamp': 1714289808680}, {'usage': 1344487, 'timestamp': 1714289809806}, {'usage': 1362804, 'timestamp': 1714289810816}, {'usage': 1388913, 'timestamp': 1714289811824}, {'usage': 1406163, 'timestamp': 1714289812832}, {'usage': 1442434, 'timestamp': 1714289813841}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 920330, 'timestamp': 1714289805132}, {'usage': 925470, 'timestamp': 1714289806138}, {'usage': 925470, 'timestamp': 1714289807233}, {'usage': 926176, 'timestamp': 1714289808238}, {'usage': 926176, 'timestamp': 1714289809243}, {'usage': 968614, 'timestamp': 1714289810248}, {'usage': 980732, 'timestamp': 1714289811253}, {'usage': 995541, 'timestamp': 1714289812258}, {'usage': 1003050, 'timestamp': 1714289813263}, {'usage': 1032141, 'timestamp': 1714289814268}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 594318, 'timestamp': 1714289804580}, {'usage': 602367, 'timestamp': 1714289805667}, {'usage': 602367, 'timestamp': 1714289806672}, {'usage': 602601, 'timestamp': 1714289807677}, {'usage': 602601, 'timestamp': 1714289808682}, {'usage': 617602, 'timestamp': 1714289809687}, {'usage': 624722, 'timestamp': 1714289810692}, {'usage': 632613, 'timestamp': 1714289811697}, {'usage': 634183, 'timestamp': 1714289812703}, {'usage': 640967, 'timestamp': 1714289813708}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 929254, 'timestamp': 1714289804532}, {'usage': 942717, 'timestamp': 1714289805538}, {'usage': 942717, 'timestamp': 1714289806544}, {'usage': 943029, 'timestamp': 1714289807550}, {'usage': 943728, 'timestamp': 1714289808555}, {'usage': 956637, 'timestamp': 1714289809561}, {'usage': 968919, 'timestamp': 1714289810567}, {'usage': 985406, 'timestamp': 1714289811573}, {'usage': 999141, 'timestamp': 1714289812579}, {'usage': 1018172, 'timestamp': 1714289813585}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: compose-post-service, usage_rate: 301.8716172934959, involved_nodes: 4, current_cpu_usage_rate: 75.46790432337397, target_cpu_utilization: 80
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:36:54] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1213959, 'timestamp': 1714289805663}, {'usage': 1213959, 'timestamp': 1714289806670}, {'usage': 1214211, 'timestamp': 1714289807679}, {'usage': 1214467, 'timestamp': 1714289808687}, {'usage': 1236381, 'timestamp': 1714289809814}, {'usage': 1243754, 'timestamp': 1714289810822}, {'usage': 1264680, 'timestamp': 1714289811831}, {'usage': 1272329, 'timestamp': 1714289812839}, {'usage': 1304548, 'timestamp': 1714289814075}, {'usage': 1311234, 'timestamp': 1714289815083}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1378895, 'timestamp': 1714289806141}, {'usage': 1379373, 'timestamp': 1714289807236}, {'usage': 1379595, 'timestamp': 1714289808241}, {'usage': 1380359, 'timestamp': 1714289809246}, {'usage': 1407703, 'timestamp': 1714289810252}, {'usage': 1413743, 'timestamp': 1714289811257}, {'usage': 1438399, 'timestamp': 1714289812262}, {'usage': 1443099, 'timestamp': 1714289813267}, {'usage': 1463761, 'timestamp': 1714289814272}, {'usage': 1469822, 'timestamp': 1714289815277}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 649013, 'timestamp': 1714289805671}, {'usage': 649013, 'timestamp': 1714289806676}, {'usage': 649448, 'timestamp': 1714289807680}, {'usage': 649700, 'timestamp': 1714289808686}, {'usage': 658246, 'timestamp': 1714289809691}, {'usage': 665446, 'timestamp': 1714289810696}, {'usage': 679701, 'timestamp': 1714289811701}, {'usage': 687137, 'timestamp': 1714289812707}, {'usage': 702188, 'timestamp': 1714289813712}, {'usage': 706504, 'timestamp': 1714289814718}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1121802, 'timestamp': 1714289805542}, {'usage': 1121802, 'timestamp': 1714289806548}, {'usage': 1122254, 'timestamp': 1714289807554}, {'usage': 1122254, 'timestamp': 1714289808559}, {'usage': 1138240, 'timestamp': 1714289809565}, {'usage': 1163335, 'timestamp': 1714289810571}, {'usage': 1185313, 'timestamp': 1714289811577}, {'usage': 1216475, 'timestamp': 1714289812583}, {'usage': 1239600, 'timestamp': 1714289813589}, {'usage': 1265071, 'timestamp': 1714289814596}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: user-timeline-service, usage_rate: 140.8266104385424, involved_nodes: 4, current_cpu_usage_rate: 35.2066526096356, target_cpu_utilization: 80
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:36:56] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:36:56] "GET /api/v1/hpas HTTP/1.1" 200 -
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1214211, 'timestamp': 1714289807679}, {'usage': 1214467, 'timestamp': 1714289808687}, {'usage': 1236381, 'timestamp': 1714289809814}, {'usage': 1243754, 'timestamp': 1714289810822}, {'usage': 1264680, 'timestamp': 1714289811831}, {'usage': 1272329, 'timestamp': 1714289812839}, {'usage': 1304548, 'timestamp': 1714289814075}, {'usage': 1311234, 'timestamp': 1714289815083}, {'usage': 1337578, 'timestamp': 1714289816091}, {'usage': 1344622, 'timestamp': 1714289817099}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1379595, 'timestamp': 1714289808241}, {'usage': 1380359, 'timestamp': 1714289809246}, {'usage': 1407703, 'timestamp': 1714289810252}, {'usage': 1413743, 'timestamp': 1714289811257}, {'usage': 1438399, 'timestamp': 1714289812262}, {'usage': 1443099, 'timestamp': 1714289813267}, {'usage': 1463761, 'timestamp': 1714289814272}, {'usage': 1469822, 'timestamp': 1714289815277}, {'usage': 1491084, 'timestamp': 1714289816282}, {'usage': 1497685, 'timestamp': 1714289817288}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 649448, 'timestamp': 1714289807680}, {'usage': 649700, 'timestamp': 1714289808686}, {'usage': 658246, 'timestamp': 1714289809691}, {'usage': 665446, 'timestamp': 1714289810696}, {'usage': 679701, 'timestamp': 1714289811701}, {'usage': 687137, 'timestamp': 1714289812707}, {'usage': 702188, 'timestamp': 1714289813712}, {'usage': 706504, 'timestamp': 1714289814718}, {'usage': 718524, 'timestamp': 1714289815724}, {'usage': 722406, 'timestamp': 1714289816728}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1122254, 'timestamp': 1714289807554}, {'usage': 1122254, 'timestamp': 1714289808559}, {'usage': 1138240, 'timestamp': 1714289809565}, {'usage': 1163335, 'timestamp': 1714289810571}, {'usage': 1185313, 'timestamp': 1714289811577}, {'usage': 1216475, 'timestamp': 1714289812583}, {'usage': 1239600, 'timestamp': 1714289813589}, {'usage': 1265071, 'timestamp': 1714289814596}, {'usage': 1285137, 'timestamp': 1714289815672}, {'usage': 1320923, 'timestamp': 1714289816678}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: user-timeline-service, usage_rate: 176.6294131121699, involved_nodes: 4, current_cpu_usage_rate: 44.15735327804248, target_cpu_utilization: 80
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:36:57] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1214467, 'timestamp': 1714289808687}, {'usage': 1236381, 'timestamp': 1714289809814}, {'usage': 1243754, 'timestamp': 1714289810822}, {'usage': 1264680, 'timestamp': 1714289811831}, {'usage': 1272329, 'timestamp': 1714289812839}, {'usage': 1304548, 'timestamp': 1714289814075}, {'usage': 1311234, 'timestamp': 1714289815083}, {'usage': 1337578, 'timestamp': 1714289816091}, {'usage': 1344622, 'timestamp': 1714289817099}, {'usage': 1368457, 'timestamp': 1714289818108}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1380359, 'timestamp': 1714289809246}, {'usage': 1407703, 'timestamp': 1714289810252}, {'usage': 1413743, 'timestamp': 1714289811257}, {'usage': 1438399, 'timestamp': 1714289812262}, {'usage': 1443099, 'timestamp': 1714289813267}, {'usage': 1463761, 'timestamp': 1714289814272}, {'usage': 1469822, 'timestamp': 1714289815277}, {'usage': 1491084, 'timestamp': 1714289816282}, {'usage': 1497685, 'timestamp': 1714289817288}, {'usage': 1516891, 'timestamp': 1714289818292}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 649700, 'timestamp': 1714289808686}, {'usage': 658246, 'timestamp': 1714289809691}, {'usage': 665446, 'timestamp': 1714289810696}, {'usage': 679701, 'timestamp': 1714289811701}, {'usage': 687137, 'timestamp': 1714289812707}, {'usage': 702188, 'timestamp': 1714289813712}, {'usage': 706504, 'timestamp': 1714289814718}, {'usage': 718524, 'timestamp': 1714289815724}, {'usage': 722406, 'timestamp': 1714289816728}, {'usage': 730763, 'timestamp': 1714289817734}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1122254, 'timestamp': 1714289808559}, {'usage': 1138240, 'timestamp': 1714289809565}, {'usage': 1163335, 'timestamp': 1714289810571}, {'usage': 1185313, 'timestamp': 1714289811577}, {'usage': 1216475, 'timestamp': 1714289812583}, {'usage': 1239600, 'timestamp': 1714289813589}, {'usage': 1265071, 'timestamp': 1714289814596}, {'usage': 1285137, 'timestamp': 1714289815672}, {'usage': 1320923, 'timestamp': 1714289816678}, {'usage': 1348035, 'timestamp': 1714289817843}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: user-timeline-service, usage_rate: 247.77046849310207, involved_nodes: 4, current_cpu_usage_rate: 61.94261712327552, target_cpu_utilization: 80
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:37:00] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:02] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:02] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:37:02] "GET /api/v1/hpas HTTP/1.1" 200 -
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 1406163, 'timestamp': 1714289812832}, {'usage': 1442434, 'timestamp': 1714289813841}, {'usage': 1456841, 'timestamp': 1714289815076}, {'usage': 1482501, 'timestamp': 1714289816085}, {'usage': 1488793, 'timestamp': 1714289817093}, {'usage': 1529639, 'timestamp': 1714289818101}, {'usage': 1529639, 'timestamp': 1714289819110}, {'usage': 1530173, 'timestamp': 1714289820118}, {'usage': 1557490, 'timestamp': 1714289821126}, {'usage': 1622349, 'timestamp': 1714289822136}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 1003050, 'timestamp': 1714289813263}, {'usage': 1032141, 'timestamp': 1714289814268}, {'usage': 1034727, 'timestamp': 1714289815273}, {'usage': 1042423, 'timestamp': 1714289816279}, {'usage': 1046789, 'timestamp': 1714289817284}, {'usage': 1069108, 'timestamp': 1714289818289}, {'usage': 1069108, 'timestamp': 1714289819294}, {'usage': 1069400, 'timestamp': 1714289820299}, {'usage': 1093340, 'timestamp': 1714289821304}, {'usage': 1132359, 'timestamp': 1714289822398}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 634183, 'timestamp': 1714289812703}, {'usage': 640967, 'timestamp': 1714289813708}, {'usage': 649931, 'timestamp': 1714289814715}, {'usage': 662576, 'timestamp': 1714289815719}, {'usage': 666260, 'timestamp': 1714289816725}, {'usage': 676623, 'timestamp': 1714289817730}, {'usage': 678294, 'timestamp': 1714289818736}, {'usage': 678294, 'timestamp': 1714289819740}, {'usage': 678889, 'timestamp': 1714289820828}, {'usage': 697743, 'timestamp': 1714289821833}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 999141, 'timestamp': 1714289812579}, {'usage': 1018172, 'timestamp': 1714289813585}, {'usage': 1028569, 'timestamp': 1714289814592}, {'usage': 1040538, 'timestamp': 1714289815667}, {'usage': 1045498, 'timestamp': 1714289816674}, {'usage': 1054411, 'timestamp': 1714289817839}, {'usage': 1054501, 'timestamp': 1714289818911}, {'usage': 1054501, 'timestamp': 1714289819917}, {'usage': 1069618, 'timestamp': 1714289820922}, {'usage': 1108521, 'timestamp': 1714289821929}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: compose-post-service, usage_rate: 524.2532155285903, involved_nodes: 4, current_cpu_usage_rate: 131.06330388214758, target_cpu_utilization: 80
ERROR:root:Scale out [compose-post-service] replicas: 7
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:03] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:37:03] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:37:03] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:37:04] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1304548, 'timestamp': 1714289814075}, {'usage': 1311234, 'timestamp': 1714289815083}, {'usage': 1337578, 'timestamp': 1714289816091}, {'usage': 1344622, 'timestamp': 1714289817099}, {'usage': 1368457, 'timestamp': 1714289818108}, {'usage': 1368457, 'timestamp': 1714289819117}, {'usage': 1369544, 'timestamp': 1714289820124}, {'usage': 1392385, 'timestamp': 1714289821134}, {'usage': 1428081, 'timestamp': 1714289822346}, {'usage': 1453322, 'timestamp': 1714289823556}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1469822, 'timestamp': 1714289815277}, {'usage': 1491084, 'timestamp': 1714289816282}, {'usage': 1497685, 'timestamp': 1714289817288}, {'usage': 1516891, 'timestamp': 1714289818292}, {'usage': 1516891, 'timestamp': 1714289819298}, {'usage': 1517107, 'timestamp': 1714289820303}, {'usage': 1535371, 'timestamp': 1714289821308}, {'usage': 1572415, 'timestamp': 1714289822401}, {'usage': 1601843, 'timestamp': 1714289823406}, {'usage': 1631021, 'timestamp': 1714289824558}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 706504, 'timestamp': 1714289814718}, {'usage': 718524, 'timestamp': 1714289815724}, {'usage': 722406, 'timestamp': 1714289816728}, {'usage': 730763, 'timestamp': 1714289817734}, {'usage': 731680, 'timestamp': 1714289818739}, {'usage': 731680, 'timestamp': 1714289819744}, {'usage': 731680, 'timestamp': 1714289820832}, {'usage': 742780, 'timestamp': 1714289821836}, {'usage': 760445, 'timestamp': 1714289822842}, {'usage': 774162, 'timestamp': 1714289823847}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1265071, 'timestamp': 1714289814596}, {'usage': 1285137, 'timestamp': 1714289815672}, {'usage': 1320923, 'timestamp': 1714289816678}, {'usage': 1348035, 'timestamp': 1714289817843}, {'usage': 1348500, 'timestamp': 1714289818915}, {'usage': 1348744, 'timestamp': 1714289819921}, {'usage': 1364637, 'timestamp': 1714289820927}, {'usage': 1398062, 'timestamp': 1714289821933}, {'usage': 1439934, 'timestamp': 1714289822940}, {'usage': 1506767, 'timestamp': 1714289823947}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: user-timeline-service, usage_rate: 420.68544283349814, involved_nodes: 4, current_cpu_usage_rate: 105.17136070837454, target_cpu_utilization: 80
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:04] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:Scale out [user-timeline-service] replicas: 6
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:05] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:37:05] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:37:05] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:37:05] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:37:05] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:37:05] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:37:05] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:37:05] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:37:06] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:06] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:37:06] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:37:06] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:06] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:06] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:{'container_name': 'post-storage-service', 'cpu_request': 30, 'usages': [{'usage': 656988, 'timestamp': 1714289817124}, {'usage': 668943, 'timestamp': 1714289818128}, {'usage': 668943, 'timestamp': 1714289819131}, {'usage': 668943, 'timestamp': 1714289820216}, {'usage': 683409, 'timestamp': 1714289821219}, {'usage': 705906, 'timestamp': 1714289822223}, {'usage': 725532, 'timestamp': 1714289823227}, {'usage': 744462, 'timestamp': 1714289824231}, {'usage': 759501, 'timestamp': 1714289825236}, {'usage': 776741, 'timestamp': 1714289826239}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'post-storage-service', 'cpu_request': 30, 'usages': [{'usage': 1667340, 'timestamp': 1714289816089}, {'usage': 1673244, 'timestamp': 1714289817097}, {'usage': 1695438, 'timestamp': 1714289818105}, {'usage': 1695438, 'timestamp': 1714289819114}, {'usage': 1695438, 'timestamp': 1714289820121}, {'usage': 1718431, 'timestamp': 1714289821130}, {'usage': 1767706, 'timestamp': 1714289822342}, {'usage': 1811668, 'timestamp': 1714289823553}, {'usage': 1853575, 'timestamp': 1714289824798}, {'usage': 1936018, 'timestamp': 1714289826551}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: post-storage-service, usage_rate: 214.06032710008407, involved_nodes: 2, current_cpu_usage_rate: 107.03016355004203, target_cpu_utilization: 80
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:06] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:Scale out [post-storage-service] replicas: 3
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:37:07] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:37:07] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:07] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:37:07] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:37:07] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:37:07] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:37:07] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:{'container_name': 'text-service', 'cpu_request': 30, 'usages': [{'usage': 449732, 'timestamp': 1714289818129}, {'usage': 449732, 'timestamp': 1714289819132}, {'usage': 449732, 'timestamp': 1714289820217}, {'usage': 468698, 'timestamp': 1714289821221}, {'usage': 492635, 'timestamp': 1714289822224}, {'usage': 513002, 'timestamp': 1714289823229}, {'usage': 537747, 'timestamp': 1714289824233}, {'usage': 555723, 'timestamp': 1714289825237}, {'usage': 569678, 'timestamp': 1714289826241}, {'usage': 589854, 'timestamp': 1714289827245}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'text-service', 'cpu_request': 30, 'usages': [{'usage': 1423793, 'timestamp': 1714289817840}, {'usage': 1423793, 'timestamp': 1714289818912}, {'usage': 1423793, 'timestamp': 1714289819918}, {'usage': 1435966, 'timestamp': 1714289820924}, {'usage': 1465541, 'timestamp': 1714289821930}, {'usage': 1494756, 'timestamp': 1714289822937}, {'usage': 1520799, 'timestamp': 1714289823944}, {'usage': 1564379, 'timestamp': 1714289825085}, {'usage': 1593504, 'timestamp': 1714289826292}, {'usage': 1631072, 'timestamp': 1714289827433}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: text-service, usage_rate: 176.73707157929778, involved_nodes: 2, current_cpu_usage_rate: 88.36853578964889, target_cpu_utilization: 80
ERROR:root:Scale out [text-service] replicas: 3
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:37:08] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:08] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:08] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:37:08] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:37:08] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:37:08] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:37:08] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:08] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:37:08] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:08] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:09] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:37:09] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:37:09] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:37:09] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:37:10] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:37:10] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1422992, 'timestamp': 1714289817094}, {'usage': 1444193, 'timestamp': 1714289818102}, {'usage': 1444193, 'timestamp': 1714289819111}, {'usage': 1444769, 'timestamp': 1714289820119}, {'usage': 1467580, 'timestamp': 1714289821127}, {'usage': 1511463, 'timestamp': 1714289822339}, {'usage': 1547840, 'timestamp': 1714289823550}, {'usage': 1580080, 'timestamp': 1714289824796}, {'usage': 1636931, 'timestamp': 1714289826347}, {'usage': 1689844, 'timestamp': 1714289828361}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1218262, 'timestamp': 1714289819295}, {'usage': 1218940, 'timestamp': 1714289820300}, {'usage': 1233556, 'timestamp': 1714289821305}, {'usage': 1259816, 'timestamp': 1714289822399}, {'usage': 1297392, 'timestamp': 1714289823404}, {'usage': 1321476, 'timestamp': 1714289824555}, {'usage': 1351296, 'timestamp': 1714289825707}, {'usage': 1408411, 'timestamp': 1714289827149}, {'usage': 1436426, 'timestamp': 1714289828594}, {'usage': 1475941, 'timestamp': 1714289830037}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1471881, 'timestamp': 1714289819741}, {'usage': 1471881, 'timestamp': 1714289820829}, {'usage': 1493218, 'timestamp': 1714289821834}, {'usage': 1522874, 'timestamp': 1714289822840}, {'usage': 1550842, 'timestamp': 1714289823845}, {'usage': 1576895, 'timestamp': 1714289824851}, {'usage': 1601417, 'timestamp': 1714289825856}, {'usage': 1639871, 'timestamp': 1714289826982}, {'usage': 1670836, 'timestamp': 1714289828129}, {'usage': 1693700, 'timestamp': 1714289829255}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: home-timeline-service, usage_rate: 246.5400681920655, involved_nodes: 3, current_cpu_usage_rate: 82.18002273068849, target_cpu_utilization: 80
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:37:10] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:10] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:Scale out [home-timeline-service] replicas: 4
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:37:10] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:10] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:10] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:37:10] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:10] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:37:10] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:37:11] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:37:11] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:37:12] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:12] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:12] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:12] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:upstream-agent-5kp6l
ERROR:root:10.244.1.232
ERROR:root:upstream-agent-gbpp7
ERROR:root:10.244.4.116
ERROR:root:upstream-agent-jtpqx
ERROR:root:10.244.5.228
ERROR:root:upstream-agent-mbjt9
ERROR:root:10.244.2.136
ERROR:root:upstream-agent-wfgjv
ERROR:root:10.244.3.179
ERROR:root:[{'name': 'upstream-agent-5kp6l', 'pod_ip': '10.244.1.232', 'host_ip': '10.142.0.3'}, {'name': 'upstream-agent-gbpp7', 'pod_ip': '10.244.4.116', 'host_ip': '10.128.0.5'}, {'name': 'upstream-agent-jtpqx', 'pod_ip': '10.244.5.228', 'host_ip': '10.206.0.2'}, {'name': 'upstream-agent-mbjt9', 'pod_ip': '10.244.2.136', 'host_ip': '10.150.0.3'}, {'name': 'upstream-agent-wfgjv', 'pod_ip': '10.244.3.179', 'host_ip': '10.202.0.2'}]
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:37:13] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:{'container_name': 'user-mention-service', 'cpu_request': 30, 'usages': [{'usage': 1086981, 'timestamp': 1714289819115}, {'usage': 1086981, 'timestamp': 1714289820123}, {'usage': 1110760, 'timestamp': 1714289821132}, {'usage': 1146994, 'timestamp': 1714289822344}, {'usage': 1177013, 'timestamp': 1714289823555}, {'usage': 1237174, 'timestamp': 1714289825029}, {'usage': 1269958, 'timestamp': 1714289826754}, {'usage': 1338626, 'timestamp': 1714289828766}, {'usage': 1396143, 'timestamp': 1714289830777}, {'usage': 1396143, 'timestamp': 1714289832390}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: user-mention-service, usage_rate: 0.0, involved_nodes: 1, current_cpu_usage_rate: 0.0, target_cpu_utilization: 80
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:13] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:13] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:37:14] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:15] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:37:16] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:17] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:37:17] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:37:17] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:37:17] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:37:17] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:18] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:18] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:18] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:37:19] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:37:19] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:37:19] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:37:19] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-353 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6822dfb90>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.2.136', port=3001): Max retries exceeded with url: /api/v1/metrics/compose-post-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822dfb90>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.2.136', port=3001): Max retries exceeded with url: /api/v1/metrics/compose-post-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822dfb90>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 89764, 'timestamp': 1714289835376}, {'usage': 95740, 'timestamp': 1714289836382}, {'usage': 100218, 'timestamp': 1714289837387}, {'usage': 108557, 'timestamp': 1714289838393}, {'usage': 133525, 'timestamp': 1714289839398}], 'metric_path': ''}
ERROR:root:5
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 1726173, 'timestamp': 1714289824559}, {'usage': 1768885, 'timestamp': 1714289826146}, {'usage': 1844281, 'timestamp': 1714289828158}, {'usage': 1919651, 'timestamp': 1714289830169}, {'usage': 1939588, 'timestamp': 1714289831981}, {'usage': 1953912, 'timestamp': 1714289833595}, {'usage': 1980502, 'timestamp': 1714289835005}, {'usage': 2019726, 'timestamp': 1714289836214}, {'usage': 2037423, 'timestamp': 1714289837222}, {'usage': 2076145, 'timestamp': 1714289838230}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 1315885, 'timestamp': 1714289828448}, {'usage': 1344153, 'timestamp': 1714289829890}, {'usage': 1350456, 'timestamp': 1714289831331}, {'usage': 1350995, 'timestamp': 1714289832483}, {'usage': 1366811, 'timestamp': 1714289833489}, {'usage': 1386338, 'timestamp': 1714289834494}, {'usage': 1425703, 'timestamp': 1714289835499}, {'usage': 1454551, 'timestamp': 1714289836504}, {'usage': 1480634, 'timestamp': 1714289837510}, {'usage': 1496633, 'timestamp': 1714289838975}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 814195, 'timestamp': 1714289829254}, {'usage': 825618, 'timestamp': 1714289830380}, {'usage': 826792, 'timestamp': 1714289831509}, {'usage': 827205, 'timestamp': 1714289832515}, {'usage': 836834, 'timestamp': 1714289833522}, {'usage': 845462, 'timestamp': 1714289834527}, {'usage': 859559, 'timestamp': 1714289835532}, {'usage': 875973, 'timestamp': 1714289836621}, {'usage': 898113, 'timestamp': 1714289837626}, {'usage': 911015, 'timestamp': 1714289838632}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: compose-post-service, usage_rate: 290.01444149542385, involved_nodes: 4, current_cpu_usage_rate: 72.50361037385596, target_cpu_utilization: 80
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:20] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:20] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:20] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:37:20] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:20] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:37:20] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-364 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6822dfe00>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.2.136', port=3001): Max retries exceeded with url: /api/v1/metrics/user-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822dfe00>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.2.136', port=3001): Max retries exceeded with url: /api/v1/metrics/user-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822dfe00>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 57076, 'timestamp': 1714289835380}, {'usage': 61814, 'timestamp': 1714289836386}, {'usage': 67291, 'timestamp': 1714289837392}, {'usage': 91677, 'timestamp': 1714289838397}, {'usage': 100135, 'timestamp': 1714289839403}, {'usage': 108141, 'timestamp': 1714289840408}, {'usage': 117568, 'timestamp': 1714289841414}], 'metric_path': ''}
ERROR:root:7
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1546292, 'timestamp': 1714289826955}, {'usage': 1594739, 'timestamp': 1714289828967}, {'usage': 1618609, 'timestamp': 1714289830979}, {'usage': 1618609, 'timestamp': 1714289832593}, {'usage': 1636673, 'timestamp': 1714289834003}, {'usage': 1656938, 'timestamp': 1714289835212}, {'usage': 1676321, 'timestamp': 1714289836221}, {'usage': 1694412, 'timestamp': 1714289837228}, {'usage': 1716851, 'timestamp': 1714289838848}, {'usage': 1744029, 'timestamp': 1714289840692}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1789356, 'timestamp': 1714289830184}, {'usage': 1789573, 'timestamp': 1714289831481}, {'usage': 1789573, 'timestamp': 1714289832487}, {'usage': 1812815, 'timestamp': 1714289833492}, {'usage': 1846710, 'timestamp': 1714289834498}, {'usage': 1877205, 'timestamp': 1714289835503}, {'usage': 1902576, 'timestamp': 1714289836508}, {'usage': 1932482, 'timestamp': 1714289837827}, {'usage': 1960093, 'timestamp': 1714289839273}, {'usage': 1999827, 'timestamp': 1714289840681}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 887886, 'timestamp': 1714289831512}, {'usage': 888304, 'timestamp': 1714289832520}, {'usage': 902463, 'timestamp': 1714289833525}, {'usage': 919531, 'timestamp': 1714289834530}, {'usage': 934512, 'timestamp': 1714289835536}, {'usage': 948375, 'timestamp': 1714289836625}, {'usage': 962132, 'timestamp': 1714289837630}, {'usage': 975188, 'timestamp': 1714289838635}, {'usage': 985510, 'timestamp': 1714289839641}, {'usage': 999444, 'timestamp': 1714289840646}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: user-timeline-service, usage_rate: 220.64744711013114, involved_nodes: 4, current_cpu_usage_rate: 55.161861777532785, target_cpu_utilization: 80
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:21] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:22] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:22] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:22] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-370 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6822df230>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/post-storage-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822df230>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/post-storage-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822df230>: Failed to establish a new connection: [Errno 111] Connection refused'))
Exception in thread Thread-373 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6822e5bb0>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.2.136', port=3001): Max retries exceeded with url: /api/v1/metrics/post-storage-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822e5bb0>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.2.136', port=3001): Max retries exceeded with url: /api/v1/metrics/post-storage-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822e5bb0>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'post-storage-service', 'cpu_request': 30, 'usages': [{'usage': 834379, 'timestamp': 1714289833267}, {'usage': 852682, 'timestamp': 1714289834270}, {'usage': 873749, 'timestamp': 1714289835377}, {'usage': 887059, 'timestamp': 1714289836383}, {'usage': 896001, 'timestamp': 1714289837389}, {'usage': 905387, 'timestamp': 1714289838394}, {'usage': 913807, 'timestamp': 1714289839399}, {'usage': 924765, 'timestamp': 1714289840405}, {'usage': 936493, 'timestamp': 1714289841410}, {'usage': 947915, 'timestamp': 1714289842416}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'post-storage-service', 'cpu_request': 30, 'usages': [{'usage': 2016290, 'timestamp': 1714289828564}, {'usage': 2088063, 'timestamp': 1714289830575}, {'usage': 2088063, 'timestamp': 1714289832187}, {'usage': 2122846, 'timestamp': 1714289833799}, {'usage': 2160706, 'timestamp': 1714289835009}, {'usage': 2187169, 'timestamp': 1714289836218}, {'usage': 2215984, 'timestamp': 1714289837226}, {'usage': 2258160, 'timestamp': 1714289838435}, {'usage': 2288860, 'timestamp': 1714289840256}, {'usage': 2332942, 'timestamp': 1714289842102}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: post-storage-service, usage_rate: 117.44538905964717, involved_nodes: 2, current_cpu_usage_rate: 58.722694529823585, target_cpu_utilization: 80
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:23] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-375 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6822e7e60>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/user-mention-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822e7e60>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
Exception in thread Thread-378 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
    return session.request(method=method, url=url, **kwargs)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    self.connect()
    raise ConnectionError(e, request=request)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/user-mention-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822e7e60>: Failed to establish a new connection: [Errno 111] Connection refused'))
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd684b1b8c0>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.2.136', port=3001): Max retries exceeded with url: /api/v1/metrics/user-mention-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd684b1b8c0>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.2.136', port=3001): Max retries exceeded with url: /api/v1/metrics/user-mention-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd684b1b8c0>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'user-mention-service', 'cpu_request': 30, 'usages': [{'usage': 1338626, 'timestamp': 1714289828766}, {'usage': 1396143, 'timestamp': 1714289830777}, {'usage': 1396143, 'timestamp': 1714289832390}, {'usage': 1416567, 'timestamp': 1714289834002}, {'usage': 1435566, 'timestamp': 1714289835211}, {'usage': 1464530, 'timestamp': 1714289836220}, {'usage': 1492137, 'timestamp': 1714289837227}, {'usage': 1551656, 'timestamp': 1714289838646}, {'usage': 1598987, 'timestamp': 1714289840491}, {'usage': 1635476, 'timestamp': 1714289842303}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: user-mention-service, usage_rate: 67.12472406181014, involved_nodes: 1, current_cpu_usage_rate: 67.12472406181014, target_cpu_utilization: 80
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:23] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:24] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-383 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6823355e0>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
Exception in thread Thread-386 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    retries = retries.increment(
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/compose-post-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6823355e0>: Failed to establish a new connection: [Errno 111] Connection refused'))

    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
During handling of the above exception, another exception occurred:

    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
    self._send_output(message_body, encode_chunked=encode_chunked)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    self.send(msg)
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    resp = self.send(prep, **send_kwargs)
    raise NewConnectionError(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6823349e0>: Failed to establish a new connection: [Errno 111] Connection refused

  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
    r = adapter.send(request, **kwargs)
           ^^^^^^^^^^^^^
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    raise ConnectionError(e, request=request)
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/compose-post-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6823355e0>: Failed to establish a new connection: [Errno 111] Connection refused'))
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.2.136', port=3001): Max retries exceeded with url: /api/v1/metrics/compose-post-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6823349e0>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.2.136', port=3001): Max retries exceeded with url: /api/v1/metrics/compose-post-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6823349e0>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 89764, 'timestamp': 1714289835376}, {'usage': 95740, 'timestamp': 1714289836382}, {'usage': 100218, 'timestamp': 1714289837387}, {'usage': 108557, 'timestamp': 1714289838393}, {'usage': 133525, 'timestamp': 1714289839398}, {'usage': 149756, 'timestamp': 1714289840404}, {'usage': 162446, 'timestamp': 1714289841409}, {'usage': 167641, 'timestamp': 1714289842415}, {'usage': 169683, 'timestamp': 1714289843422}, {'usage': 169874, 'timestamp': 1714289844427}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 1919651, 'timestamp': 1714289830169}, {'usage': 1939588, 'timestamp': 1714289831981}, {'usage': 1953912, 'timestamp': 1714289833595}, {'usage': 1980502, 'timestamp': 1714289835005}, {'usage': 2019726, 'timestamp': 1714289836214}, {'usage': 2037423, 'timestamp': 1714289837222}, {'usage': 2076145, 'timestamp': 1714289838230}, {'usage': 2128977, 'timestamp': 1714289839850}, {'usage': 2168014, 'timestamp': 1714289841695}, {'usage': 2190657, 'timestamp': 1714289843507}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 859559, 'timestamp': 1714289835532}, {'usage': 875973, 'timestamp': 1714289836621}, {'usage': 898113, 'timestamp': 1714289837626}, {'usage': 911015, 'timestamp': 1714289838632}, {'usage': 922244, 'timestamp': 1714289839637}, {'usage': 929274, 'timestamp': 1714289840642}, {'usage': 949683, 'timestamp': 1714289841648}, {'usage': 957816, 'timestamp': 1714289842653}, {'usage': 958123, 'timestamp': 1714289843658}, {'usage': 958123, 'timestamp': 1714289844662}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: compose-post-service, usage_rate: 42.28728872195315, involved_nodes: 3, current_cpu_usage_rate: 14.095762907317718, target_cpu_utilization: 80
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:25] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-389 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
Exception in thread Thread-392 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6823369f0>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
    httplib_response = self._make_request(
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/home-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6823369f0>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    self.run()
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self._target(*self._args, **self._kwargs)
    self.send(msg)
  File "/manager/collector.py", line 16, in request_resource_info
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6823b38f0>: Failed to establish a new connection: [Errno 111] Connection refused

    return request("get", url, params=params, **kwargs)
During handling of the above exception, another exception occurred:
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    resp = self.send(prep, **send_kwargs)
    retries = retries.increment(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.2.136', port=3001): Max retries exceeded with url: /api/v1/metrics/home-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6823b38f0>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/home-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6823369f0>: Failed to establish a new connection: [Errno 111] Connection refused'))
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.2.136', port=3001): Max retries exceeded with url: /api/v1/metrics/home-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6823b38f0>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1749746, 'timestamp': 1714289832184}, {'usage': 1775246, 'timestamp': 1714289833797}, {'usage': 1811677, 'timestamp': 1714289835006}, {'usage': 1843820, 'timestamp': 1714289836215}, {'usage': 1877269, 'timestamp': 1714289837223}, {'usage': 1912769, 'timestamp': 1714289838232}, {'usage': 1986547, 'timestamp': 1714289840053}, {'usage': 2067747, 'timestamp': 1714289841897}, {'usage': 2102294, 'timestamp': 1714289843710}, {'usage': 2103053, 'timestamp': 1714289845121}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1780997, 'timestamp': 1714289836623}, {'usage': 1798153, 'timestamp': 1714289837628}, {'usage': 1817039, 'timestamp': 1714289838633}, {'usage': 1832836, 'timestamp': 1714289839638}, {'usage': 1846495, 'timestamp': 1714289840644}, {'usage': 1858515, 'timestamp': 1714289841649}, {'usage': 1871960, 'timestamp': 1714289842654}, {'usage': 1873580, 'timestamp': 1714289843659}, {'usage': 1874967, 'timestamp': 1714289844664}, {'usage': 1880849, 'timestamp': 1714289845669}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: home-timeline-service, usage_rate: 21.30217563258595, involved_nodes: 2, current_cpu_usage_rate: 10.651087816292975, target_cpu_utilization: 80
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:26] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-395 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6823341a0>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
Exception in thread Thread-398 (request_resource_info):
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/user-mention-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6823341a0>: Failed to establish a new connection: [Errno 111] Connection refused'))
    conn = connection.create_connection(

During handling of the above exception, another exception occurred:
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    self.run()
    httplib_response = self._make_request(
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
    r = adapter.send(request, **kwargs)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    raise ConnectionError(e, request=request)
    self.send(msg)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/user-mention-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6823341a0>: Failed to establish a new connection: [Errno 111] Connection refused'))
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd682334140>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.2.136', port=3001): Max retries exceeded with url: /api/v1/metrics/user-mention-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682334140>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.2.136', port=3001): Max retries exceeded with url: /api/v1/metrics/user-mention-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682334140>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'user-mention-service', 'cpu_request': 30, 'usages': [{'usage': 1416567, 'timestamp': 1714289834002}, {'usage': 1435566, 'timestamp': 1714289835211}, {'usage': 1464530, 'timestamp': 1714289836220}, {'usage': 1492137, 'timestamp': 1714289837227}, {'usage': 1551656, 'timestamp': 1714289838646}, {'usage': 1598987, 'timestamp': 1714289840491}, {'usage': 1635476, 'timestamp': 1714289842303}, {'usage': 1653782, 'timestamp': 1714289843915}, {'usage': 1653782, 'timestamp': 1714289845360}, {'usage': 1676393, 'timestamp': 1714289846572}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: user-mention-service, usage_rate: 62.18646864686469, involved_nodes: 1, current_cpu_usage_rate: 62.18646864686469, target_cpu_utilization: 80
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:27] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-401 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
Exception in thread Thread-404 (request_resource_info):
    raise NewConnectionError(
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd682334950>: Failed to establish a new connection: [Errno 111] Connection refused

    conn = connection.create_connection(
During handling of the above exception, another exception occurred:

           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    resp = conn.urlopen(
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
              ^^^^^^^^^^^^^^^^^^
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/home-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682334950>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self.run()
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self._target(*self._args, **self._kwargs)
    self.send(msg)
  File "/manager/collector.py", line 16, in request_resource_info
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
    raise NewConnectionError(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6823356d0>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/home-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682334950>: Failed to establish a new connection: [Errno 111] Connection refused'))
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.2.136', port=3001): Max retries exceeded with url: /api/v1/metrics/home-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6823356d0>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.2.136', port=3001): Max retries exceeded with url: /api/v1/metrics/home-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6823356d0>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1811677, 'timestamp': 1714289835006}, {'usage': 1843820, 'timestamp': 1714289836215}, {'usage': 1877269, 'timestamp': 1714289837223}, {'usage': 1912769, 'timestamp': 1714289838232}, {'usage': 1986547, 'timestamp': 1714289840053}, {'usage': 2067747, 'timestamp': 1714289841897}, {'usage': 2102294, 'timestamp': 1714289843710}, {'usage': 2103053, 'timestamp': 1714289845121}, {'usage': 2136358, 'timestamp': 1714289846366}, {'usage': 2173738, 'timestamp': 1714289847576}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1817039, 'timestamp': 1714289838633}, {'usage': 1832836, 'timestamp': 1714289839638}, {'usage': 1846495, 'timestamp': 1714289840644}, {'usage': 1858515, 'timestamp': 1714289841649}, {'usage': 1871960, 'timestamp': 1714289842654}, {'usage': 1873580, 'timestamp': 1714289843659}, {'usage': 1874967, 'timestamp': 1714289844664}, {'usage': 1880849, 'timestamp': 1714289845669}, {'usage': 1897800, 'timestamp': 1714289846674}, {'usage': 1910975, 'timestamp': 1714289847679}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: home-timeline-service, usage_rate: 146.67338239929828, involved_nodes: 2, current_cpu_usage_rate: 73.33669119964914, target_cpu_utilization: 80
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:29] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-407 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd682334830>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/home-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682334830>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/home-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682334830>: Failed to establish a new connection: [Errno 111] Connection refused'))
Exception in thread Thread-410 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6822e06b0>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.2.136', port=3001): Max retries exceeded with url: /api/v1/metrics/home-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822e06b0>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.2.136', port=3001): Max retries exceeded with url: /api/v1/metrics/home-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822e06b0>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1843820, 'timestamp': 1714289836215}, {'usage': 1877269, 'timestamp': 1714289837223}, {'usage': 1912769, 'timestamp': 1714289838232}, {'usage': 1986547, 'timestamp': 1714289840053}, {'usage': 2067747, 'timestamp': 1714289841897}, {'usage': 2102294, 'timestamp': 1714289843710}, {'usage': 2103053, 'timestamp': 1714289845121}, {'usage': 2136358, 'timestamp': 1714289846366}, {'usage': 2173738, 'timestamp': 1714289847576}, {'usage': 2232164, 'timestamp': 1714289848910}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1846495, 'timestamp': 1714289840644}, {'usage': 1858515, 'timestamp': 1714289841649}, {'usage': 1871960, 'timestamp': 1714289842654}, {'usage': 1873580, 'timestamp': 1714289843659}, {'usage': 1874967, 'timestamp': 1714289844664}, {'usage': 1880849, 'timestamp': 1714289845669}, {'usage': 1897800, 'timestamp': 1714289846674}, {'usage': 1910975, 'timestamp': 1714289847679}, {'usage': 1926591, 'timestamp': 1714289848685}, {'usage': 1941527, 'timestamp': 1714289849690}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: home-timeline-service, usage_rate: 195.5309758056295, involved_nodes: 2, current_cpu_usage_rate: 97.76548790281475, target_cpu_utilization: 80
ERROR:root:Scale out [home-timeline-service] replicas: 5
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:30] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:37:31] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:37:34] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:37:40] "[32mGET /api/v1/agent HTTP/1.1[0m" 308 -
ERROR:root:upstream-agent-5kp6l
ERROR:root:10.244.1.232
ERROR:root:upstream-agent-gbpp7
ERROR:root:10.244.4.116
ERROR:root:upstream-agent-jtpqx
ERROR:root:10.244.5.228
ERROR:root:upstream-agent-mbjt9
ERROR:root:10.244.2.136
ERROR:root:upstream-agent-wfgjv
ERROR:root:10.244.3.179
ERROR:root:[{'name': 'upstream-agent-5kp6l', 'pod_ip': '10.244.1.232', 'host_ip': '10.142.0.3'}, {'name': 'upstream-agent-gbpp7', 'pod_ip': '10.244.4.116', 'host_ip': '10.128.0.5'}, {'name': 'upstream-agent-jtpqx', 'pod_ip': '10.244.5.228', 'host_ip': '10.206.0.2'}, {'name': 'upstream-agent-mbjt9', 'pod_ip': '10.244.2.136', 'host_ip': '10.150.0.3'}, {'name': 'upstream-agent-wfgjv', 'pod_ip': '10.244.3.179', 'host_ip': '10.202.0.2'}]
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:37:40] "GET /api/v1/agent/ HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:37:40] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:37:46] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:37:49] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:37:50] "[32mGET /api/v1/agent HTTP/1.1[0m" 308 -
ERROR:root:upstream-agent-5kp6l
ERROR:root:10.244.1.232
ERROR:root:upstream-agent-gbpp7
ERROR:root:10.244.4.116
ERROR:root:upstream-agent-jtpqx
ERROR:root:10.244.5.228
ERROR:root:upstream-agent-mbjt9
ERROR:root:10.244.2.136
ERROR:root:upstream-agent-wfgjv
ERROR:root:10.244.3.179
ERROR:root:[{'name': 'upstream-agent-5kp6l', 'pod_ip': '10.244.1.232', 'host_ip': '10.142.0.3'}, {'name': 'upstream-agent-gbpp7', 'pod_ip': '10.244.4.116', 'host_ip': '10.128.0.5'}, {'name': 'upstream-agent-jtpqx', 'pod_ip': '10.244.5.228', 'host_ip': '10.206.0.2'}, {'name': 'upstream-agent-mbjt9', 'pod_ip': '10.244.2.136', 'host_ip': '10.150.0.3'}, {'name': 'upstream-agent-wfgjv', 'pod_ip': '10.244.3.179', 'host_ip': '10.202.0.2'}]
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:37:50] "GET /api/v1/agent/ HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:37:50] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:37:55] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:59] "[32mGET /api/v1/agent HTTP/1.1[0m" 308 -
ERROR:root:upstream-agent-5kp6l
ERROR:root:10.244.1.232
ERROR:root:upstream-agent-gbpp7
ERROR:root:10.244.4.116
ERROR:root:upstream-agent-jtpqx
ERROR:root:10.244.5.228
ERROR:root:upstream-agent-mbjt9
ERROR:root:10.244.2.136
ERROR:root:upstream-agent-wfgjv
ERROR:root:10.244.3.179
ERROR:root:[{'name': 'upstream-agent-5kp6l', 'pod_ip': '10.244.1.232', 'host_ip': '10.142.0.3'}, {'name': 'upstream-agent-gbpp7', 'pod_ip': '10.244.4.116', 'host_ip': '10.128.0.5'}, {'name': 'upstream-agent-jtpqx', 'pod_ip': '10.244.5.228', 'host_ip': '10.206.0.2'}, {'name': 'upstream-agent-mbjt9', 'pod_ip': '10.244.2.136', 'host_ip': '10.150.0.3'}, {'name': 'upstream-agent-wfgjv', 'pod_ip': '10.244.3.179', 'host_ip': '10.202.0.2'}]
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:59] "GET /api/v1/agent/ HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:37:59] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:00] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-431 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd682337a10>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.4.116', port=3001): Max retries exceeded with url: /api/v1/metrics/user-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682337a10>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.4.116', port=3001): Max retries exceeded with url: /api/v1/metrics/user-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682337a10>: Failed to establish a new connection: [Errno 111] Connection refused'))
Exception in thread Thread-430 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6823342c0>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/user-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6823342c0>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/user-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6823342c0>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 312304, 'timestamp': 1714289871823}, {'usage': 331291, 'timestamp': 1714289872829}, {'usage': 345856, 'timestamp': 1714289873836}, {'usage': 357518, 'timestamp': 1714289874842}, {'usage': 367413, 'timestamp': 1714289875849}, {'usage': 382295, 'timestamp': 1714289876856}, {'usage': 391451, 'timestamp': 1714289877862}, {'usage': 406512, 'timestamp': 1714289878869}, {'usage': 417736, 'timestamp': 1714289879875}, {'usage': 417736, 'timestamp': 1714289880988}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1236110, 'timestamp': 1714289871991}, {'usage': 1243608, 'timestamp': 1714289872996}, {'usage': 1250247, 'timestamp': 1714289874001}, {'usage': 1255187, 'timestamp': 1714289875006}, {'usage': 1263655, 'timestamp': 1714289876011}, {'usage': 1269060, 'timestamp': 1714289877016}, {'usage': 1282405, 'timestamp': 1714289878022}, {'usage': 1291071, 'timestamp': 1714289879027}, {'usage': 1297902, 'timestamp': 1714289880031}, {'usage': 1298124, 'timestamp': 1714289881036}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 3915420, 'timestamp': 1714289875259}, {'usage': 3987418, 'timestamp': 1714289876270}, {'usage': 4040593, 'timestamp': 1714289877279}, {'usage': 4106519, 'timestamp': 1714289878289}, {'usage': 4157557, 'timestamp': 1714289879299}, {'usage': 4222543, 'timestamp': 1714289880309}], 'metric_path': ''}
ERROR:root:6
ERROR:root:deployment: user-timeline-service, usage_rate: 215.21156593271263, involved_nodes: 3, current_cpu_usage_rate: 71.73718864423755, target_cpu_utilization: 80
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:01] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:38:01] "GET /api/v1/hpas HTTP/1.1" 200 -
Exception in thread Thread-438 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd682336fc0>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.4.116', port=3001): Max retries exceeded with url: /api/v1/metrics/user-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682336fc0>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.4.116', port=3001): Max retries exceeded with url: /api/v1/metrics/user-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682336fc0>: Failed to establish a new connection: [Errno 111] Connection refused'))
Exception in thread Thread-437 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd682334410>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/user-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682334410>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/user-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682334410>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 331291, 'timestamp': 1714289872829}, {'usage': 345856, 'timestamp': 1714289873836}, {'usage': 357518, 'timestamp': 1714289874842}, {'usage': 367413, 'timestamp': 1714289875849}, {'usage': 382295, 'timestamp': 1714289876856}, {'usage': 391451, 'timestamp': 1714289877862}, {'usage': 406512, 'timestamp': 1714289878869}, {'usage': 417736, 'timestamp': 1714289879875}, {'usage': 417736, 'timestamp': 1714289880988}, {'usage': 417931, 'timestamp': 1714289881995}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1243608, 'timestamp': 1714289872996}, {'usage': 1250247, 'timestamp': 1714289874001}, {'usage': 1255187, 'timestamp': 1714289875006}, {'usage': 1263655, 'timestamp': 1714289876011}, {'usage': 1269060, 'timestamp': 1714289877016}, {'usage': 1282405, 'timestamp': 1714289878022}, {'usage': 1291071, 'timestamp': 1714289879027}, {'usage': 1297902, 'timestamp': 1714289880031}, {'usage': 1298124, 'timestamp': 1714289881036}, {'usage': 1298124, 'timestamp': 1714289882122}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 3915420, 'timestamp': 1714289875259}, {'usage': 3987418, 'timestamp': 1714289876270}, {'usage': 4040593, 'timestamp': 1714289877279}, {'usage': 4106519, 'timestamp': 1714289878289}, {'usage': 4157557, 'timestamp': 1714289879299}, {'usage': 4222543, 'timestamp': 1714289880309}, {'usage': 4222543, 'timestamp': 1714289881389}], 'metric_path': ''}
ERROR:root:7
ERROR:root:deployment: user-timeline-service, usage_rate: 0.6454816285998014, involved_nodes: 3, current_cpu_usage_rate: 0.21516054286660047, target_cpu_utilization: 80
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:02] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-444 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd682337620>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.4.116', port=3001): Max retries exceeded with url: /api/v1/metrics/user-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682337620>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.4.116', port=3001): Max retries exceeded with url: /api/v1/metrics/user-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682337620>: Failed to establish a new connection: [Errno 111] Connection refused'))
Exception in thread Thread-443 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6823360f0>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/user-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6823360f0>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/user-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6823360f0>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 345856, 'timestamp': 1714289873836}, {'usage': 357518, 'timestamp': 1714289874842}, {'usage': 367413, 'timestamp': 1714289875849}, {'usage': 382295, 'timestamp': 1714289876856}, {'usage': 391451, 'timestamp': 1714289877862}, {'usage': 406512, 'timestamp': 1714289878869}, {'usage': 417736, 'timestamp': 1714289879875}, {'usage': 417736, 'timestamp': 1714289880988}, {'usage': 417931, 'timestamp': 1714289881995}, {'usage': 422391, 'timestamp': 1714289883002}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1250247, 'timestamp': 1714289874001}, {'usage': 1255187, 'timestamp': 1714289875006}, {'usage': 1263655, 'timestamp': 1714289876011}, {'usage': 1269060, 'timestamp': 1714289877016}, {'usage': 1282405, 'timestamp': 1714289878022}, {'usage': 1291071, 'timestamp': 1714289879027}, {'usage': 1297902, 'timestamp': 1714289880031}, {'usage': 1298124, 'timestamp': 1714289881036}, {'usage': 1298124, 'timestamp': 1714289882122}, {'usage': 1301362, 'timestamp': 1714289883128}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 3915420, 'timestamp': 1714289875259}, {'usage': 3987418, 'timestamp': 1714289876270}, {'usage': 4040593, 'timestamp': 1714289877279}, {'usage': 4106519, 'timestamp': 1714289878289}, {'usage': 4157557, 'timestamp': 1714289879299}, {'usage': 4222543, 'timestamp': 1714289880309}, {'usage': 4222543, 'timestamp': 1714289881389}, {'usage': 4222543, 'timestamp': 1714289882466}], 'metric_path': ''}
ERROR:root:8
ERROR:root:deployment: user-timeline-service, usage_rate: 25.492282978724802, involved_nodes: 3, current_cpu_usage_rate: 8.497427659574933, target_cpu_utilization: 80
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:03] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-450 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6822dfe30>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.4.116', port=3001): Max retries exceeded with url: /api/v1/metrics/user-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822dfe30>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.4.116', port=3001): Max retries exceeded with url: /api/v1/metrics/user-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822dfe30>: Failed to establish a new connection: [Errno 111] Connection refused'))
Exception in thread Thread-449 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6822de900>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/user-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822de900>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/user-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822de900>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 357518, 'timestamp': 1714289874842}, {'usage': 367413, 'timestamp': 1714289875849}, {'usage': 382295, 'timestamp': 1714289876856}, {'usage': 391451, 'timestamp': 1714289877862}, {'usage': 406512, 'timestamp': 1714289878869}, {'usage': 417736, 'timestamp': 1714289879875}, {'usage': 417736, 'timestamp': 1714289880988}, {'usage': 417931, 'timestamp': 1714289881995}, {'usage': 422391, 'timestamp': 1714289883002}, {'usage': 432268, 'timestamp': 1714289884010}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1255187, 'timestamp': 1714289875006}, {'usage': 1263655, 'timestamp': 1714289876011}, {'usage': 1269060, 'timestamp': 1714289877016}, {'usage': 1282405, 'timestamp': 1714289878022}, {'usage': 1291071, 'timestamp': 1714289879027}, {'usage': 1297902, 'timestamp': 1714289880031}, {'usage': 1298124, 'timestamp': 1714289881036}, {'usage': 1298124, 'timestamp': 1714289882122}, {'usage': 1301362, 'timestamp': 1714289883128}, {'usage': 1308576, 'timestamp': 1714289884132}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 3915420, 'timestamp': 1714289875259}, {'usage': 3987418, 'timestamp': 1714289876270}, {'usage': 4040593, 'timestamp': 1714289877279}, {'usage': 4106519, 'timestamp': 1714289878289}, {'usage': 4157557, 'timestamp': 1714289879299}, {'usage': 4222543, 'timestamp': 1714289880309}, {'usage': 4222543, 'timestamp': 1714289881389}, {'usage': 4222543, 'timestamp': 1714289882466}, {'usage': 4258498, 'timestamp': 1714289883542}], 'metric_path': ''}
ERROR:root:9
ERROR:root:deployment: user-timeline-service, usage_rate: 167.9976586151607, involved_nodes: 3, current_cpu_usage_rate: 55.9992195383869, target_cpu_utilization: 80
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:04] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:38:05] "GET /api/v1/hpas HTTP/1.1" 200 -
Exception in thread Thread-457 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6822e7da0>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.4.116', port=3001): Max retries exceeded with url: /api/v1/metrics/user-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822e7da0>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.4.116', port=3001): Max retries exceeded with url: /api/v1/metrics/user-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822e7da0>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 367413, 'timestamp': 1714289875849}, {'usage': 382295, 'timestamp': 1714289876856}, {'usage': 391451, 'timestamp': 1714289877862}, {'usage': 406512, 'timestamp': 1714289878869}, {'usage': 417736, 'timestamp': 1714289879875}, {'usage': 417736, 'timestamp': 1714289880988}, {'usage': 417931, 'timestamp': 1714289881995}, {'usage': 422391, 'timestamp': 1714289883002}, {'usage': 432268, 'timestamp': 1714289884010}, {'usage': 451306, 'timestamp': 1714289885017}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1263655, 'timestamp': 1714289876011}, {'usage': 1269060, 'timestamp': 1714289877016}, {'usage': 1282405, 'timestamp': 1714289878022}, {'usage': 1291071, 'timestamp': 1714289879027}, {'usage': 1297902, 'timestamp': 1714289880031}, {'usage': 1298124, 'timestamp': 1714289881036}, {'usage': 1298124, 'timestamp': 1714289882122}, {'usage': 1301362, 'timestamp': 1714289883128}, {'usage': 1308576, 'timestamp': 1714289884132}, {'usage': 1326029, 'timestamp': 1714289885138}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 3915420, 'timestamp': 1714289875259}, {'usage': 3987418, 'timestamp': 1714289876270}, {'usage': 4040593, 'timestamp': 1714289877279}, {'usage': 4106519, 'timestamp': 1714289878289}, {'usage': 4157557, 'timestamp': 1714289879299}, {'usage': 4222543, 'timestamp': 1714289880309}, {'usage': 4222543, 'timestamp': 1714289881389}, {'usage': 4222543, 'timestamp': 1714289882466}, {'usage': 4258498, 'timestamp': 1714289883542}, {'usage': 4322415, 'timestamp': 1714289884620}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: user-timeline-service, usage_rate: 318.4892491006749, involved_nodes: 4, current_cpu_usage_rate: 79.62231227516872, target_cpu_utilization: 80
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:05] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:05] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-464 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6822dfb90>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.4.116', port=3001): Max retries exceeded with url: /api/v1/metrics/user-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822dfb90>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.4.116', port=3001): Max retries exceeded with url: /api/v1/metrics/user-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822dfb90>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 382295, 'timestamp': 1714289876856}, {'usage': 391451, 'timestamp': 1714289877862}, {'usage': 406512, 'timestamp': 1714289878869}, {'usage': 417736, 'timestamp': 1714289879875}, {'usage': 417736, 'timestamp': 1714289880988}, {'usage': 417931, 'timestamp': 1714289881995}, {'usage': 422391, 'timestamp': 1714289883002}, {'usage': 432268, 'timestamp': 1714289884010}, {'usage': 451306, 'timestamp': 1714289885017}, {'usage': 460060, 'timestamp': 1714289886023}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 1269060, 'timestamp': 1714289877016}, {'usage': 1282405, 'timestamp': 1714289878022}, {'usage': 1291071, 'timestamp': 1714289879027}, {'usage': 1297902, 'timestamp': 1714289880031}, {'usage': 1298124, 'timestamp': 1714289881036}, {'usage': 1298124, 'timestamp': 1714289882122}, {'usage': 1301362, 'timestamp': 1714289883128}, {'usage': 1308576, 'timestamp': 1714289884132}, {'usage': 1326029, 'timestamp': 1714289885138}, {'usage': 1337418, 'timestamp': 1714289886143}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 2655489, 'timestamp': 1714289885177}, {'usage': 2673240, 'timestamp': 1714289886184}], 'metric_path': ''}
ERROR:root:2
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 3987418, 'timestamp': 1714289876270}, {'usage': 4040593, 'timestamp': 1714289877279}, {'usage': 4106519, 'timestamp': 1714289878289}, {'usage': 4157557, 'timestamp': 1714289879299}, {'usage': 4222543, 'timestamp': 1714289880309}, {'usage': 4222543, 'timestamp': 1714289881389}, {'usage': 4222543, 'timestamp': 1714289882466}, {'usage': 4258498, 'timestamp': 1714289883542}, {'usage': 4322415, 'timestamp': 1714289884620}, {'usage': 4396324, 'timestamp': 1714289885699}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: user-timeline-service, usage_rate: 353.8647245515127, involved_nodes: 4, current_cpu_usage_rate: 88.46618113787818, target_cpu_utilization: 80
ERROR:root:Scale out [user-timeline-service] replicas: 7
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:06] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:07] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:08] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:10] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:10] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:10] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:11] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:11] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-479 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6822e71a0>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.4.116', port=3001): Max retries exceeded with url: /api/v1/metrics/home-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822e71a0>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.4.116', port=3001): Max retries exceeded with url: /api/v1/metrics/home-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822e71a0>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 162916, 'timestamp': 1714289881991}, {'usage': 167178, 'timestamp': 1714289882998}, {'usage': 174249, 'timestamp': 1714289884006}, {'usage': 180066, 'timestamp': 1714289885013}, {'usage': 189134, 'timestamp': 1714289886019}, {'usage': 197374, 'timestamp': 1714289887026}, {'usage': 204092, 'timestamp': 1714289888032}, {'usage': 211113, 'timestamp': 1714289889039}, {'usage': 230930, 'timestamp': 1714289890046}, {'usage': 239655, 'timestamp': 1714289891053}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 2698982, 'timestamp': 1714289885174}, {'usage': 2729129, 'timestamp': 1714289886181}, {'usage': 2755987, 'timestamp': 1714289887188}, {'usage': 2782481, 'timestamp': 1714289888196}, {'usage': 2812775, 'timestamp': 1714289889202}, {'usage': 2838640, 'timestamp': 1714289890209}, {'usage': 2866094, 'timestamp': 1714289891364}], 'metric_path': ''}
ERROR:root:7
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 2229426, 'timestamp': 1714289882120}, {'usage': 2235034, 'timestamp': 1714289883125}, {'usage': 2248872, 'timestamp': 1714289884130}, {'usage': 2256974, 'timestamp': 1714289885135}, {'usage': 2268185, 'timestamp': 1714289886141}, {'usage': 2276997, 'timestamp': 1714289887146}, {'usage': 2283975, 'timestamp': 1714289888151}, {'usage': 2294797, 'timestamp': 1714289889156}, {'usage': 2302501, 'timestamp': 1714289890161}, {'usage': 2309050, 'timestamp': 1714289891166}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 417589, 'timestamp': 1714289881384}, {'usage': 418279, 'timestamp': 1714289882462}, {'usage': 422631, 'timestamp': 1714289883538}, {'usage': 432881, 'timestamp': 1714289884615}, {'usage': 440881, 'timestamp': 1714289885693}, {'usage': 448680, 'timestamp': 1714289886770}, {'usage': 459859, 'timestamp': 1714289887849}, {'usage': 470043, 'timestamp': 1714289888925}, {'usage': 478817, 'timestamp': 1714289890002}, {'usage': 486809, 'timestamp': 1714289891202}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: home-timeline-service, usage_rate: 152.03488144424279, involved_nodes: 4, current_cpu_usage_rate: 38.008720361060696, target_cpu_utilization: 80
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:12] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:12] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:upstream-agent-5kp6l
ERROR:root:10.244.1.232
ERROR:root:upstream-agent-gbpp7
ERROR:root:10.244.4.116
ERROR:root:upstream-agent-jtpqx
ERROR:root:10.244.5.228
ERROR:root:upstream-agent-mbjt9
ERROR:root:10.244.2.136
ERROR:root:upstream-agent-wfgjv
ERROR:root:10.244.3.179
ERROR:root:[{'name': 'upstream-agent-5kp6l', 'pod_ip': '10.244.1.232', 'host_ip': '10.142.0.3'}, {'name': 'upstream-agent-gbpp7', 'pod_ip': '10.244.4.116', 'host_ip': '10.128.0.5'}, {'name': 'upstream-agent-jtpqx', 'pod_ip': '10.244.5.228', 'host_ip': '10.206.0.2'}, {'name': 'upstream-agent-mbjt9', 'pod_ip': '10.244.2.136', 'host_ip': '10.150.0.3'}, {'name': 'upstream-agent-wfgjv', 'pod_ip': '10.244.3.179', 'host_ip': '10.202.0.2'}]
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:13] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-487 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd682331f10>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.4.116', port=3001): Max retries exceeded with url: /api/v1/metrics/home-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682331f10>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.4.116', port=3001): Max retries exceeded with url: /api/v1/metrics/home-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682331f10>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 174249, 'timestamp': 1714289884006}, {'usage': 180066, 'timestamp': 1714289885013}, {'usage': 189134, 'timestamp': 1714289886019}, {'usage': 197374, 'timestamp': 1714289887026}, {'usage': 204092, 'timestamp': 1714289888032}, {'usage': 211113, 'timestamp': 1714289889039}, {'usage': 230930, 'timestamp': 1714289890046}, {'usage': 239655, 'timestamp': 1714289891053}, {'usage': 247592, 'timestamp': 1714289892060}, {'usage': 248733, 'timestamp': 1714289893066}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 2698982, 'timestamp': 1714289885174}, {'usage': 2729129, 'timestamp': 1714289886181}, {'usage': 2755987, 'timestamp': 1714289887188}, {'usage': 2782481, 'timestamp': 1714289888196}, {'usage': 2812775, 'timestamp': 1714289889202}, {'usage': 2838640, 'timestamp': 1714289890209}, {'usage': 2866094, 'timestamp': 1714289891364}, {'usage': 2889225, 'timestamp': 1714289892519}, {'usage': 2889736, 'timestamp': 1714289893673}], 'metric_path': ''}
ERROR:root:9
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 2248872, 'timestamp': 1714289884130}, {'usage': 2256974, 'timestamp': 1714289885135}, {'usage': 2268185, 'timestamp': 1714289886141}, {'usage': 2276997, 'timestamp': 1714289887146}, {'usage': 2283975, 'timestamp': 1714289888151}, {'usage': 2294797, 'timestamp': 1714289889156}, {'usage': 2302501, 'timestamp': 1714289890161}, {'usage': 2309050, 'timestamp': 1714289891166}, {'usage': 2314342, 'timestamp': 1714289892171}, {'usage': 2314536, 'timestamp': 1714289893176}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 422631, 'timestamp': 1714289883538}, {'usage': 432881, 'timestamp': 1714289884615}, {'usage': 440881, 'timestamp': 1714289885693}, {'usage': 448680, 'timestamp': 1714289886770}, {'usage': 459859, 'timestamp': 1714289887849}, {'usage': 470043, 'timestamp': 1714289888925}, {'usage': 478817, 'timestamp': 1714289890002}, {'usage': 486809, 'timestamp': 1714289891202}, {'usage': 492190, 'timestamp': 1714289892283}, {'usage': 492190, 'timestamp': 1714289893360}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: home-timeline-service, usage_rate: 5.900124275114922, involved_nodes: 4, current_cpu_usage_rate: 1.4750310687787305, target_cpu_utilization: 80
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:14] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:15] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:15] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:16] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:16] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:38:16] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:17] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 204092, 'timestamp': 1714289888032}, {'usage': 211113, 'timestamp': 1714289889039}, {'usage': 230930, 'timestamp': 1714289890046}, {'usage': 239655, 'timestamp': 1714289891053}, {'usage': 247592, 'timestamp': 1714289892060}, {'usage': 248733, 'timestamp': 1714289893066}, {'usage': 249421, 'timestamp': 1714289894073}, {'usage': 256276, 'timestamp': 1714289895079}, {'usage': 272790, 'timestamp': 1714289896196}, {'usage': 287709, 'timestamp': 1714289897202}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 3202644, 'timestamp': 1714289894546}, {'usage': 3248772, 'timestamp': 1714289895555}, {'usage': 3285782, 'timestamp': 1714289896564}, {'usage': 3317468, 'timestamp': 1714289897574}], 'metric_path': ''}
ERROR:root:4
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 2782481, 'timestamp': 1714289888196}, {'usage': 2812775, 'timestamp': 1714289889202}, {'usage': 2838640, 'timestamp': 1714289890209}, {'usage': 2866094, 'timestamp': 1714289891364}, {'usage': 2889225, 'timestamp': 1714289892519}, {'usage': 2889736, 'timestamp': 1714289893673}, {'usage': 2889986, 'timestamp': 1714289894681}, {'usage': 2943076, 'timestamp': 1714289895689}, {'usage': 2996364, 'timestamp': 1714289896696}, {'usage': 3047594, 'timestamp': 1714289897851}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 2283975, 'timestamp': 1714289888151}, {'usage': 2294797, 'timestamp': 1714289889156}, {'usage': 2302501, 'timestamp': 1714289890161}, {'usage': 2309050, 'timestamp': 1714289891166}, {'usage': 2314342, 'timestamp': 1714289892171}, {'usage': 2314536, 'timestamp': 1714289893176}, {'usage': 2315443, 'timestamp': 1714289894181}, {'usage': 2319926, 'timestamp': 1714289895186}, {'usage': 2331462, 'timestamp': 1714289896191}, {'usage': 2345390, 'timestamp': 1714289897287}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 459859, 'timestamp': 1714289887849}, {'usage': 470043, 'timestamp': 1714289888925}, {'usage': 478817, 'timestamp': 1714289890002}, {'usage': 486809, 'timestamp': 1714289891202}, {'usage': 492190, 'timestamp': 1714289892283}, {'usage': 492190, 'timestamp': 1714289893360}, {'usage': 492932, 'timestamp': 1714289894438}, {'usage': 504980, 'timestamp': 1714289895515}, {'usage': 518241, 'timestamp': 1714289896593}, {'usage': 534726, 'timestamp': 1714289897670}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: home-timeline-service, usage_rate: 395.23903781911304, involved_nodes: 5, current_cpu_usage_rate: 79.0478075638226, target_cpu_utilization: 80
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:17] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:18] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:18] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:19] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:19] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-512 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:19] "POST /api/v1/notify HTTP/1.1" 200 -
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6823390d0>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/home-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6823390d0>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/home-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6823390d0>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 230930, 'timestamp': 1714289890046}, {'usage': 239655, 'timestamp': 1714289891053}, {'usage': 247592, 'timestamp': 1714289892060}, {'usage': 248733, 'timestamp': 1714289893066}, {'usage': 249421, 'timestamp': 1714289894073}, {'usage': 256276, 'timestamp': 1714289895079}, {'usage': 272790, 'timestamp': 1714289896196}, {'usage': 287709, 'timestamp': 1714289897202}, {'usage': 302859, 'timestamp': 1714289898209}, {'usage': 320592, 'timestamp': 1714289899216}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 3202644, 'timestamp': 1714289894546}, {'usage': 3248772, 'timestamp': 1714289895555}, {'usage': 3285782, 'timestamp': 1714289896564}, {'usage': 3317468, 'timestamp': 1714289897574}, {'usage': 3346734, 'timestamp': 1714289898583}, {'usage': 3393221, 'timestamp': 1714289899793}], 'metric_path': ''}
ERROR:root:6
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 2812775, 'timestamp': 1714289889202}, {'usage': 2838640, 'timestamp': 1714289890209}, {'usage': 2866094, 'timestamp': 1714289891364}, {'usage': 2889225, 'timestamp': 1714289892519}, {'usage': 2889736, 'timestamp': 1714289893673}, {'usage': 2889986, 'timestamp': 1714289894681}, {'usage': 2943076, 'timestamp': 1714289895689}, {'usage': 2996364, 'timestamp': 1714289896696}, {'usage': 3047594, 'timestamp': 1714289897851}, {'usage': 3101861, 'timestamp': 1714289899003}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 478817, 'timestamp': 1714289890002}, {'usage': 486809, 'timestamp': 1714289891202}, {'usage': 492190, 'timestamp': 1714289892283}, {'usage': 492190, 'timestamp': 1714289893360}, {'usage': 492932, 'timestamp': 1714289894438}, {'usage': 504980, 'timestamp': 1714289895515}, {'usage': 518241, 'timestamp': 1714289896593}, {'usage': 534726, 'timestamp': 1714289897670}, {'usage': 547536, 'timestamp': 1714289898747}, {'usage': 567922, 'timestamp': 1714289899892}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: home-timeline-service, usage_rate: 403.13292595628394, involved_nodes: 4, current_cpu_usage_rate: 100.78323148907099, target_cpu_utilization: 80
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:19] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:20] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:Scale out [home-timeline-service] replicas: 7
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:20] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:20] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:20] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:20] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:20] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:38:20] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:20] "GET /api/v1/hpas HTTP/1.1" 200 -
Exception in thread Thread-529 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd68233bf50>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/post-storage-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd68233bf50>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/post-storage-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd68233bf50>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'post-storage-service', 'cpu_request': 30, 'usages': [{'usage': 1459743, 'timestamp': 1714289891054}, {'usage': 1470470, 'timestamp': 1714289892061}, {'usage': 1472331, 'timestamp': 1714289893067}, {'usage': 1472331, 'timestamp': 1714289894074}, {'usage': 1483518, 'timestamp': 1714289895080}, {'usage': 1513262, 'timestamp': 1714289896197}, {'usage': 1534905, 'timestamp': 1714289897203}, {'usage': 1558978, 'timestamp': 1714289898210}, {'usage': 1577444, 'timestamp': 1714289899217}, {'usage': 1594606, 'timestamp': 1714289900225}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'post-storage-service', 'cpu_request': 30, 'usages': [{'usage': 3206029, 'timestamp': 1714289894548}, {'usage': 3236994, 'timestamp': 1714289895558}, {'usage': 3279120, 'timestamp': 1714289896567}, {'usage': 3310099, 'timestamp': 1714289897576}, {'usage': 3336297, 'timestamp': 1714289898586}, {'usage': 3389187, 'timestamp': 1714289899995}], 'metric_path': ''}
ERROR:root:6
ERROR:root:{'container_name': 'post-storage-service', 'cpu_request': 30, 'usages': [{'usage': 1132537, 'timestamp': 1714289891203}, {'usage': 1145535, 'timestamp': 1714289892285}, {'usage': 1148798, 'timestamp': 1714289893361}, {'usage': 1148798, 'timestamp': 1714289894440}, {'usage': 1178416, 'timestamp': 1714289895516}, {'usage': 1216805, 'timestamp': 1714289896594}, {'usage': 1253481, 'timestamp': 1714289897671}, {'usage': 1289815, 'timestamp': 1714289898748}, {'usage': 1329421, 'timestamp': 1714289899893}, {'usage': 1365452, 'timestamp': 1714289901118}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: post-storage-service, usage_rate: 279.92038447900256, involved_nodes: 3, current_cpu_usage_rate: 93.30679482633418, target_cpu_utilization: 80
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:21] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:21] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:Scale out [post-storage-service] replicas: 4
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:21] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:21] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:21] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:21] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:21] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:21] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:22] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:22] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-546 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6822e0500>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/compose-post-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822e0500>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/compose-post-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822e0500>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 530706, 'timestamp': 1714289893065}, {'usage': 530706, 'timestamp': 1714289894072}, {'usage': 530900, 'timestamp': 1714289895078}, {'usage': 538971, 'timestamp': 1714289896195}, {'usage': 568545, 'timestamp': 1714289897201}, {'usage': 574760, 'timestamp': 1714289898208}, {'usage': 584427, 'timestamp': 1714289899215}, {'usage': 594659, 'timestamp': 1714289900222}, {'usage': 611053, 'timestamp': 1714289901230}, {'usage': 624768, 'timestamp': 1714289902237}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 3158473, 'timestamp': 1714289894544}, {'usage': 3182232, 'timestamp': 1714289895554}, {'usage': 3208578, 'timestamp': 1714289896563}, {'usage': 3244375, 'timestamp': 1714289897572}, {'usage': 3280757, 'timestamp': 1714289898582}, {'usage': 3334442, 'timestamp': 1714289899593}, {'usage': 3393150, 'timestamp': 1714289901402}], 'metric_path': ''}
ERROR:root:7
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 2002856, 'timestamp': 1714289891362}, {'usage': 2005006, 'timestamp': 1714289892517}, {'usage': 2005006, 'timestamp': 1714289893671}, {'usage': 2005476, 'timestamp': 1714289894680}, {'usage': 2007653, 'timestamp': 1714289895687}, {'usage': 2015708, 'timestamp': 1714289896694}, {'usage': 2021123, 'timestamp': 1714289897850}, {'usage': 2026212, 'timestamp': 1714289899002}, {'usage': 2044007, 'timestamp': 1714289900154}, {'usage': 2095447, 'timestamp': 1714289901692}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 680384, 'timestamp': 1714289891361}, {'usage': 698218, 'timestamp': 1714289892516}, {'usage': 698348, 'timestamp': 1714289893670}, {'usage': 698776, 'timestamp': 1714289894678}, {'usage': 716370, 'timestamp': 1714289895686}, {'usage': 748562, 'timestamp': 1714289896695}, {'usage': 791587, 'timestamp': 1714289897848}, {'usage': 824370, 'timestamp': 1714289899001}, {'usage': 860067, 'timestamp': 1714289900153}, {'usage': 891572, 'timestamp': 1714289901691}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 2032065, 'timestamp': 1714289892281}, {'usage': 2032065, 'timestamp': 1714289893358}, {'usage': 2032065, 'timestamp': 1714289894435}, {'usage': 2038366, 'timestamp': 1714289895513}, {'usage': 2054056, 'timestamp': 1714289896590}, {'usage': 2061990, 'timestamp': 1714289897668}, {'usage': 2070518, 'timestamp': 1714289898746}, {'usage': 2086965, 'timestamp': 1714289899889}, {'usage': 2090431, 'timestamp': 1714289901116}, {'usage': 2093064, 'timestamp': 1714289902325}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 589318, 'timestamp': 1714289892282}, {'usage': 589318, 'timestamp': 1714289893359}, {'usage': 589698, 'timestamp': 1714289894436}, {'usage': 604880, 'timestamp': 1714289895512}, {'usage': 618117, 'timestamp': 1714289896591}, {'usage': 629115, 'timestamp': 1714289897667}, {'usage': 649635, 'timestamp': 1714289898744}, {'usage': 664534, 'timestamp': 1714289899891}, {'usage': 682499, 'timestamp': 1714289901115}, {'usage': 695699, 'timestamp': 1714289902327}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: compose-post-service, usage_rate: 205.86897895738187, involved_nodes: 4, current_cpu_usage_rate: 51.46724473934547, target_cpu_utilization: 80
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:22] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:22] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:22] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:23] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:23] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:23] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:23] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:23] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:23] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:23] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:23] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:24] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-563 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd682335a90>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/text-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682335a90>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/text-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682335a90>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'text-service', 'cpu_request': 30, 'usages': [{'usage': 1267735, 'timestamp': 1714289895081}, {'usage': 1281911, 'timestamp': 1714289896198}, {'usage': 1299409, 'timestamp': 1714289897204}, {'usage': 1314394, 'timestamp': 1714289898211}, {'usage': 1331035, 'timestamp': 1714289899218}, {'usage': 1345384, 'timestamp': 1714289900226}, {'usage': 1367291, 'timestamp': 1714289901233}, {'usage': 1386877, 'timestamp': 1714289902240}, {'usage': 1408621, 'timestamp': 1714289903246}, {'usage': 1428231, 'timestamp': 1714289904252}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'text-service', 'cpu_request': 30, 'usages': [{'usage': 693657, 'timestamp': 1714289892667}, {'usage': 693657, 'timestamp': 1714289893675}, {'usage': 693657, 'timestamp': 1714289894683}, {'usage': 700998, 'timestamp': 1714289895691}, {'usage': 725014, 'timestamp': 1714289896846}, {'usage': 744148, 'timestamp': 1714289897998}, {'usage': 766524, 'timestamp': 1714289899150}, {'usage': 792638, 'timestamp': 1714289900367}, {'usage': 819737, 'timestamp': 1714289901985}, {'usage': 837925, 'timestamp': 1714289903430}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'text-service', 'cpu_request': 30, 'usages': [{'usage': 2526347, 'timestamp': 1714289893363}, {'usage': 2526535, 'timestamp': 1714289894441}, {'usage': 2546196, 'timestamp': 1714289895518}, {'usage': 2578571, 'timestamp': 1714289896595}, {'usage': 2609014, 'timestamp': 1714289897673}, {'usage': 2645237, 'timestamp': 1714289898818}, {'usage': 2674119, 'timestamp': 1714289899964}, {'usage': 2698806, 'timestamp': 1714289901186}, {'usage': 2726692, 'timestamp': 1714289902398}, {'usage': 2750418, 'timestamp': 1714289903609}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: text-service, usage_rate: 172.23988542597607, involved_nodes: 3, current_cpu_usage_rate: 57.41329514199202, target_cpu_utilization: 80
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:24] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:24] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:24] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:24] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:25] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:25] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-573 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd682335040>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/user-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682335040>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/user-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682335040>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 546246, 'timestamp': 1714289896200}, {'usage': 571831, 'timestamp': 1714289897207}, {'usage': 596160, 'timestamp': 1714289898213}, {'usage': 618190, 'timestamp': 1714289899220}, {'usage': 641540, 'timestamp': 1714289900228}, {'usage': 662679, 'timestamp': 1714289901235}, {'usage': 687045, 'timestamp': 1714289902242}, {'usage': 703750, 'timestamp': 1714289903248}, {'usage': 727840, 'timestamp': 1714289904254}, {'usage': 728447, 'timestamp': 1714289905261}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 522854, 'timestamp': 1714289894551}, {'usage': 535723, 'timestamp': 1714289895561}, {'usage': 559278, 'timestamp': 1714289896570}, {'usage': 582095, 'timestamp': 1714289897579}, {'usage': 602986, 'timestamp': 1714289898591}, {'usage': 632237, 'timestamp': 1714289900398}, {'usage': 656681, 'timestamp': 1714289902209}, {'usage': 682873, 'timestamp': 1714289904018}], 'metric_path': ''}
ERROR:root:8
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 2344418, 'timestamp': 1714289894552}, {'usage': 2350319, 'timestamp': 1714289895560}, {'usage': 2383139, 'timestamp': 1714289896571}, {'usage': 2413482, 'timestamp': 1714289897580}, {'usage': 2437140, 'timestamp': 1714289898589}, {'usage': 2490672, 'timestamp': 1714289900399}, {'usage': 2531815, 'timestamp': 1714289902210}, {'usage': 2577404, 'timestamp': 1714289904019}], 'metric_path': ''}
ERROR:root:8
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 2753543, 'timestamp': 1714289893676}, {'usage': 2754085, 'timestamp': 1714289894684}, {'usage': 2770556, 'timestamp': 1714289895692}, {'usage': 2806517, 'timestamp': 1714289896847}, {'usage': 2842269, 'timestamp': 1714289897999}, {'usage': 2871493, 'timestamp': 1714289899151}, {'usage': 2903839, 'timestamp': 1714289900368}, {'usage': 2947949, 'timestamp': 1714289901987}, {'usage': 2975958, 'timestamp': 1714289903431}, {'usage': 2997272, 'timestamp': 1714289904875}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 4881708, 'timestamp': 1714289894444}, {'usage': 4944833, 'timestamp': 1714289895521}, {'usage': 5016425, 'timestamp': 1714289896598}, {'usage': 5089348, 'timestamp': 1714289897675}, {'usage': 5161612, 'timestamp': 1714289898821}, {'usage': 5248235, 'timestamp': 1714289900045}, {'usage': 5333639, 'timestamp': 1714289901256}, {'usage': 5423329, 'timestamp': 1714289902468}, {'usage': 5505016, 'timestamp': 1714289903612}, {'usage': 5577408, 'timestamp': 1714289904755}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: user-timeline-service, usage_rate: 304.3295317774954, involved_nodes: 4, current_cpu_usage_rate: 76.08238294437385, target_cpu_utilization: 80
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:25] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:25] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:25] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:25] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:26] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-584 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6822de8d0>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/user-mention-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822de8d0>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/user-mention-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822de8d0>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'user-mention-service', 'cpu_request': 30, 'usages': [{'usage': 2678101, 'timestamp': 1714289894550}, {'usage': 2703187, 'timestamp': 1714289895559}, {'usage': 2744791, 'timestamp': 1714289896568}, {'usage': 2782538, 'timestamp': 1714289897578}, {'usage': 2819414, 'timestamp': 1714289898587}, {'usage': 2881894, 'timestamp': 1714289900197}, {'usage': 2969506, 'timestamp': 1714289902007}, {'usage': 3028121, 'timestamp': 1714289903816}, {'usage': 3053931, 'timestamp': 1714289905633}], 'metric_path': ''}
ERROR:root:9
ERROR:root:deployment: user-mention-service, usage_rate: 47.34911025499908, involved_nodes: 1, current_cpu_usage_rate: 47.34911025499908, target_cpu_utilization: 80
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:26] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:27] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:27] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:27] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:28] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:28] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:28] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-596 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6822dfef0>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/social-graph-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822dfef0>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/social-graph-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822dfef0>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'social-graph-service', 'cpu_request': 30, 'usages': [{'usage': 1963898, 'timestamp': 1714289896844}, {'usage': 1993385, 'timestamp': 1714289897997}, {'usage': 2019562, 'timestamp': 1714289899149}, {'usage': 2050209, 'timestamp': 1714289900366}, {'usage': 2094934, 'timestamp': 1714289901840}, {'usage': 2136491, 'timestamp': 1714289903281}, {'usage': 2168722, 'timestamp': 1714289904727}, {'usage': 2169007, 'timestamp': 1714289906026}, {'usage': 2169007, 'timestamp': 1714289907181}, {'usage': 2187281, 'timestamp': 1714289908334}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: social-graph-service, usage_rate: 52.83029777392311, involved_nodes: 1, current_cpu_usage_rate: 52.83029777392311, target_cpu_utilization: 80
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:28] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:29] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:29] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-604 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd682337f50>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/compose-post-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682337f50>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/compose-post-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682337f50>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 594659, 'timestamp': 1714289900222}, {'usage': 611053, 'timestamp': 1714289901230}, {'usage': 624768, 'timestamp': 1714289902237}, {'usage': 643193, 'timestamp': 1714289903243}, {'usage': 660703, 'timestamp': 1714289904249}, {'usage': 662642, 'timestamp': 1714289905256}, {'usage': 662642, 'timestamp': 1714289906262}, {'usage': 667907, 'timestamp': 1714289907269}, {'usage': 678219, 'timestamp': 1714289908275}, {'usage': 705215, 'timestamp': 1714289909283}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 3182232, 'timestamp': 1714289895554}, {'usage': 3208578, 'timestamp': 1714289896563}, {'usage': 3244375, 'timestamp': 1714289897572}, {'usage': 3280757, 'timestamp': 1714289898582}, {'usage': 3334442, 'timestamp': 1714289899593}, {'usage': 3393150, 'timestamp': 1714289901402}, {'usage': 3484227, 'timestamp': 1714289903212}, {'usage': 3535598, 'timestamp': 1714289905022}, {'usage': 3536031, 'timestamp': 1714289906840}, {'usage': 3605021, 'timestamp': 1714289908250}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 2021123, 'timestamp': 1714289897850}, {'usage': 2026212, 'timestamp': 1714289899002}, {'usage': 2044007, 'timestamp': 1714289900154}, {'usage': 2095447, 'timestamp': 1714289901692}, {'usage': 2112861, 'timestamp': 1714289903134}, {'usage': 2127890, 'timestamp': 1714289904580}, {'usage': 2127890, 'timestamp': 1714289905878}, {'usage': 2127890, 'timestamp': 1714289907031}, {'usage': 2131973, 'timestamp': 1714289908185}, {'usage': 2141497, 'timestamp': 1714289909340}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 791587, 'timestamp': 1714289897848}, {'usage': 824370, 'timestamp': 1714289899001}, {'usage': 860067, 'timestamp': 1714289900153}, {'usage': 891572, 'timestamp': 1714289901691}, {'usage': 926092, 'timestamp': 1714289903132}, {'usage': 940936, 'timestamp': 1714289904578}, {'usage': 941177, 'timestamp': 1714289905877}, {'usage': 941461, 'timestamp': 1714289907032}, {'usage': 947810, 'timestamp': 1714289908186}, {'usage': 976545, 'timestamp': 1714289909338}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 2070518, 'timestamp': 1714289898746}, {'usage': 2086965, 'timestamp': 1714289899889}, {'usage': 2090431, 'timestamp': 1714289901116}, {'usage': 2093064, 'timestamp': 1714289902325}, {'usage': 2095844, 'timestamp': 1714289903537}, {'usage': 2104046, 'timestamp': 1714289904681}, {'usage': 2104046, 'timestamp': 1714289905826}, {'usage': 2104046, 'timestamp': 1714289906901}, {'usage': 2114017, 'timestamp': 1714289908098}, {'usage': 2140255, 'timestamp': 1714289909177}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 649635, 'timestamp': 1714289898744}, {'usage': 664534, 'timestamp': 1714289899891}, {'usage': 682499, 'timestamp': 1714289901115}, {'usage': 695699, 'timestamp': 1714289902327}, {'usage': 706982, 'timestamp': 1714289903536}, {'usage': 718597, 'timestamp': 1714289904682}, {'usage': 718597, 'timestamp': 1714289905825}, {'usage': 718597, 'timestamp': 1714289906902}, {'usage': 721805, 'timestamp': 1714289908099}, {'usage': 736327, 'timestamp': 1714289909176}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: compose-post-service, usage_rate: 316.4149594023019, involved_nodes: 4, current_cpu_usage_rate: 79.10373985057548, target_cpu_utilization: 80
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:29] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:30] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:30] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:30] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:30] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:31] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:31] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:31] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-617 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd682336ff0>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/user-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682336ff0>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/user-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682336ff0>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 687045, 'timestamp': 1714289902242}, {'usage': 703750, 'timestamp': 1714289903248}, {'usage': 727840, 'timestamp': 1714289904254}, {'usage': 728447, 'timestamp': 1714289905261}, {'usage': 728962, 'timestamp': 1714289906267}, {'usage': 736419, 'timestamp': 1714289907274}, {'usage': 750539, 'timestamp': 1714289908281}, {'usage': 777598, 'timestamp': 1714289909288}, {'usage': 802927, 'timestamp': 1714289910295}, {'usage': 829459, 'timestamp': 1714289911430}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 582095, 'timestamp': 1714289897579}, {'usage': 602986, 'timestamp': 1714289898591}, {'usage': 632237, 'timestamp': 1714289900398}, {'usage': 656681, 'timestamp': 1714289902209}, {'usage': 682873, 'timestamp': 1714289904018}, {'usage': 686921, 'timestamp': 1714289905836}, {'usage': 689216, 'timestamp': 1714289907247}, {'usage': 703667, 'timestamp': 1714289908657}, {'usage': 742577, 'timestamp': 1714289910114}, {'usage': 763010, 'timestamp': 1714289911524}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 2413482, 'timestamp': 1714289897580}, {'usage': 2437140, 'timestamp': 1714289898589}, {'usage': 2490672, 'timestamp': 1714289900399}, {'usage': 2531815, 'timestamp': 1714289902210}, {'usage': 2577404, 'timestamp': 1714289904019}, {'usage': 2588212, 'timestamp': 1714289905838}, {'usage': 2593437, 'timestamp': 1714289907249}, {'usage': 2628592, 'timestamp': 1714289908659}, {'usage': 2675488, 'timestamp': 1714289910115}, {'usage': 2704657, 'timestamp': 1714289911526}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 2871493, 'timestamp': 1714289899151}, {'usage': 2903839, 'timestamp': 1714289900368}, {'usage': 2947949, 'timestamp': 1714289901987}, {'usage': 2975958, 'timestamp': 1714289903431}, {'usage': 2997272, 'timestamp': 1714289904875}, {'usage': 2997493, 'timestamp': 1714289906029}, {'usage': 2998682, 'timestamp': 1714289907183}, {'usage': 3020081, 'timestamp': 1714289908336}, {'usage': 3054232, 'timestamp': 1714289909488}, {'usage': 3086501, 'timestamp': 1714289910641}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'user-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 5333639, 'timestamp': 1714289901256}, {'usage': 5423329, 'timestamp': 1714289902468}, {'usage': 5505016, 'timestamp': 1714289903612}, {'usage': 5577408, 'timestamp': 1714289904755}, {'usage': 5578929, 'timestamp': 1714289905832}, {'usage': 5578929, 'timestamp': 1714289906908}, {'usage': 5646066, 'timestamp': 1714289908106}, {'usage': 5714398, 'timestamp': 1714289909185}, {'usage': 5776080, 'timestamp': 1714289910259}, {'usage': 5851194, 'timestamp': 1714289911335}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: user-timeline-service, usage_rate: 438.3601280701538, involved_nodes: 4, current_cpu_usage_rate: 109.59003201753845, target_cpu_utilization: 80
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:31] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:Scale out [user-timeline-service] replicas: 10
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:32] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:32] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:32] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-628 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd682336300>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/user-mention-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682336300>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/user-mention-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682336300>: Failed to establish a new connection: [Errno 111] Connection refused'))
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:32] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:{'container_name': 'user-mention-service', 'cpu_request': 30, 'usages': [{'usage': 2782538, 'timestamp': 1714289897578}, {'usage': 2819414, 'timestamp': 1714289898587}, {'usage': 2881894, 'timestamp': 1714289900197}, {'usage': 2969506, 'timestamp': 1714289902007}, {'usage': 3028121, 'timestamp': 1714289903816}, {'usage': 3053931, 'timestamp': 1714289905633}, {'usage': 3053931, 'timestamp': 1714289907046}, {'usage': 3105924, 'timestamp': 1714289908455}, {'usage': 3158223, 'timestamp': 1714289909867}, {'usage': 3227313, 'timestamp': 1714289911323}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: user-mention-service, usage_rate: 158.17307692307693, involved_nodes: 1, current_cpu_usage_rate: 158.17307692307693, target_cpu_utilization: 80
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:32] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:Scale out [user-mention-service] replicas: 2
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:33] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:33] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:33] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:33] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:38:33] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:33] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-643 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6823347a0>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/compose-post-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6823347a0>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/compose-post-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6823347a0>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 660703, 'timestamp': 1714289904249}, {'usage': 662642, 'timestamp': 1714289905256}, {'usage': 662642, 'timestamp': 1714289906262}, {'usage': 667907, 'timestamp': 1714289907269}, {'usage': 678219, 'timestamp': 1714289908275}, {'usage': 705215, 'timestamp': 1714289909283}, {'usage': 716316, 'timestamp': 1714289910290}, {'usage': 731376, 'timestamp': 1714289911425}, {'usage': 741294, 'timestamp': 1714289912432}, {'usage': 761769, 'timestamp': 1714289913440}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 3280757, 'timestamp': 1714289898582}, {'usage': 3334442, 'timestamp': 1714289899593}, {'usage': 3393150, 'timestamp': 1714289901402}, {'usage': 3484227, 'timestamp': 1714289903212}, {'usage': 3535598, 'timestamp': 1714289905022}, {'usage': 3536031, 'timestamp': 1714289906840}, {'usage': 3605021, 'timestamp': 1714289908250}, {'usage': 3689949, 'timestamp': 1714289909661}, {'usage': 3756549, 'timestamp': 1714289911117}, {'usage': 3827091, 'timestamp': 1714289912527}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 2095447, 'timestamp': 1714289901692}, {'usage': 2112861, 'timestamp': 1714289903134}, {'usage': 2127890, 'timestamp': 1714289904580}, {'usage': 2127890, 'timestamp': 1714289905878}, {'usage': 2127890, 'timestamp': 1714289907031}, {'usage': 2131973, 'timestamp': 1714289908185}, {'usage': 2141497, 'timestamp': 1714289909340}, {'usage': 2167060, 'timestamp': 1714289910491}, {'usage': 2184042, 'timestamp': 1714289911644}, {'usage': 2198727, 'timestamp': 1714289912797}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 891572, 'timestamp': 1714289901691}, {'usage': 926092, 'timestamp': 1714289903132}, {'usage': 940936, 'timestamp': 1714289904578}, {'usage': 941177, 'timestamp': 1714289905877}, {'usage': 941461, 'timestamp': 1714289907032}, {'usage': 947810, 'timestamp': 1714289908186}, {'usage': 976545, 'timestamp': 1714289909338}, {'usage': 1002068, 'timestamp': 1714289910490}, {'usage': 1038386, 'timestamp': 1714289911643}, {'usage': 1062032, 'timestamp': 1714289912798}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 2095844, 'timestamp': 1714289903537}, {'usage': 2104046, 'timestamp': 1714289904681}, {'usage': 2104046, 'timestamp': 1714289905826}, {'usage': 2104046, 'timestamp': 1714289906901}, {'usage': 2114017, 'timestamp': 1714289908098}, {'usage': 2140255, 'timestamp': 1714289909177}, {'usage': 2147887, 'timestamp': 1714289910253}, {'usage': 2161149, 'timestamp': 1714289911328}, {'usage': 2175438, 'timestamp': 1714289912409}, {'usage': 2191931, 'timestamp': 1714289913555}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 706982, 'timestamp': 1714289903536}, {'usage': 718597, 'timestamp': 1714289904682}, {'usage': 718597, 'timestamp': 1714289905825}, {'usage': 718597, 'timestamp': 1714289906902}, {'usage': 721805, 'timestamp': 1714289908099}, {'usage': 736327, 'timestamp': 1714289909176}, {'usage': 753117, 'timestamp': 1714289910252}, {'usage': 774687, 'timestamp': 1714289911329}, {'usage': 789577, 'timestamp': 1714289912410}, {'usage': 802945, 'timestamp': 1714289913553}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: compose-post-service, usage_rate: 288.08806633092524, involved_nodes: 4, current_cpu_usage_rate: 72.02201658273131, target_cpu_utilization: 80
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:34] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:34] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:34] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:34] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:34] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:34] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:34] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:34] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-656 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd682331460>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/home-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682331460>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/home-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682331460>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 409084, 'timestamp': 1714289905257}, {'usage': 409084, 'timestamp': 1714289906264}, {'usage': 414048, 'timestamp': 1714289907270}, {'usage': 424756, 'timestamp': 1714289908276}, {'usage': 439655, 'timestamp': 1714289909284}, {'usage': 455374, 'timestamp': 1714289910291}, {'usage': 473184, 'timestamp': 1714289911426}, {'usage': 493817, 'timestamp': 1714289912433}, {'usage': 511613, 'timestamp': 1714289913441}, {'usage': 527163, 'timestamp': 1714289914671}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 3393221, 'timestamp': 1714289899793}, {'usage': 3454694, 'timestamp': 1714289901604}, {'usage': 3507592, 'timestamp': 1714289903413}, {'usage': 3539343, 'timestamp': 1714289905225}, {'usage': 3540475, 'timestamp': 1714289907042}, {'usage': 3594010, 'timestamp': 1714289908451}, {'usage': 3628759, 'timestamp': 1714289909862}, {'usage': 3672320, 'timestamp': 1714289911319}, {'usage': 3722014, 'timestamp': 1714289912770}, {'usage': 3777081, 'timestamp': 1714289914389}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 3314228, 'timestamp': 1714289903135}, {'usage': 3364108, 'timestamp': 1714289904581}, {'usage': 3365235, 'timestamp': 1714289905879}, {'usage': 3365938, 'timestamp': 1714289907033}, {'usage': 3418345, 'timestamp': 1714289908187}, {'usage': 3480641, 'timestamp': 1714289909341}, {'usage': 3539077, 'timestamp': 1714289910493}, {'usage': 3591762, 'timestamp': 1714289911645}, {'usage': 3640233, 'timestamp': 1714289912800}, {'usage': 3699530, 'timestamp': 1714289914242}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 619296, 'timestamp': 1714289904683}, {'usage': 620133, 'timestamp': 1714289905827}, {'usage': 620133, 'timestamp': 1714289906904}, {'usage': 630789, 'timestamp': 1714289908100}, {'usage': 639651, 'timestamp': 1714289909179}, {'usage': 647368, 'timestamp': 1714289910255}, {'usage': 655484, 'timestamp': 1714289911331}, {'usage': 667076, 'timestamp': 1714289912412}, {'usage': 677148, 'timestamp': 1714289913557}, {'usage': 688418, 'timestamp': 1714289914702}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: home-timeline-service, usage_rate: 325.39800458541646, involved_nodes: 4, current_cpu_usage_rate: 81.34950114635411, target_cpu_utilization: 80
ERROR:root:Scale out [home-timeline-service] replicas: 8
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:35] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:35] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:35] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:35] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:38:36] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:38:36] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:36] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:36] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-670 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd682333680>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/post-storage-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682333680>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/post-storage-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682333680>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'post-storage-service', 'cpu_request': 30, 'usages': [{'usage': 1687561, 'timestamp': 1714289906264}, {'usage': 1696844, 'timestamp': 1714289907271}, {'usage': 1716110, 'timestamp': 1714289908278}, {'usage': 1735623, 'timestamp': 1714289909285}, {'usage': 1756317, 'timestamp': 1714289910292}, {'usage': 1779548, 'timestamp': 1714289911427}, {'usage': 1798779, 'timestamp': 1714289912434}, {'usage': 1818025, 'timestamp': 1714289913442}, {'usage': 1837984, 'timestamp': 1714289914672}, {'usage': 1855949, 'timestamp': 1714289915679}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'post-storage-service', 'cpu_request': 30, 'usages': [{'usage': 3389187, 'timestamp': 1714289899995}, {'usage': 3440123, 'timestamp': 1714289901807}, {'usage': 3499200, 'timestamp': 1714289903615}, {'usage': 3518270, 'timestamp': 1714289905431}, {'usage': 3518270, 'timestamp': 1714289907045}, {'usage': 3556371, 'timestamp': 1714289908454}, {'usage': 3593426, 'timestamp': 1714289909865}, {'usage': 3632041, 'timestamp': 1714289911322}, {'usage': 3675930, 'timestamp': 1714289912973}, {'usage': 3716820, 'timestamp': 1714289914593}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'post-storage-service', 'cpu_request': 30, 'usages': [{'usage': 1470476, 'timestamp': 1714289905828}, {'usage': 1470476, 'timestamp': 1714289906905}, {'usage': 1499738, 'timestamp': 1714289908102}, {'usage': 1523042, 'timestamp': 1714289909180}, {'usage': 1555782, 'timestamp': 1714289910256}, {'usage': 1578150, 'timestamp': 1714289911332}, {'usage': 1604947, 'timestamp': 1714289912413}, {'usage': 1632240, 'timestamp': 1714289913558}, {'usage': 1652577, 'timestamp': 1714289914703}, {'usage': 1674469, 'timestamp': 1714289915781}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: post-storage-service, usage_rate: 211.29612547709678, involved_nodes: 3, current_cpu_usage_rate: 70.43204182569893, target_cpu_utilization: 80
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:36] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:36] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:36] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:36] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:37] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:37] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:37] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:37] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:38] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:38] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-686 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6823392e0>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/social-graph-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6823392e0>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/social-graph-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6823392e0>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'social-graph-service', 'cpu_request': 30, 'usages': [{'usage': 2169007, 'timestamp': 1714289906026}, {'usage': 2169007, 'timestamp': 1714289907181}, {'usage': 2187281, 'timestamp': 1714289908334}, {'usage': 2225884, 'timestamp': 1714289909486}, {'usage': 2256757, 'timestamp': 1714289910639}, {'usage': 2294920, 'timestamp': 1714289911793}, {'usage': 2330757, 'timestamp': 1714289912945}, {'usage': 2367699, 'timestamp': 1714289914397}, {'usage': 2413597, 'timestamp': 1714289915840}, {'usage': 2441432, 'timestamp': 1714289917269}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: social-graph-service, usage_rate: 64.92885467693024, involved_nodes: 1, current_cpu_usage_rate: 64.92885467693024, target_cpu_utilization: 80
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:38] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:38] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:39] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:39] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.1.232 - - [28/Apr/2024 07:38:39] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:39] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:40] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-698 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd682333530>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/compose-post-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682333530>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/compose-post-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682333530>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 716316, 'timestamp': 1714289910290}, {'usage': 731376, 'timestamp': 1714289911425}, {'usage': 741294, 'timestamp': 1714289912432}, {'usage': 761769, 'timestamp': 1714289913440}, {'usage': 779967, 'timestamp': 1714289914670}, {'usage': 793932, 'timestamp': 1714289915677}, {'usage': 806774, 'timestamp': 1714289917077}, {'usage': 806774, 'timestamp': 1714289918084}, {'usage': 806774, 'timestamp': 1714289919091}, {'usage': 816625, 'timestamp': 1714289920097}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 3535598, 'timestamp': 1714289905022}, {'usage': 3536031, 'timestamp': 1714289906840}, {'usage': 3605021, 'timestamp': 1714289908250}, {'usage': 3689949, 'timestamp': 1714289909661}, {'usage': 3756549, 'timestamp': 1714289911117}, {'usage': 3827091, 'timestamp': 1714289912527}, {'usage': 3897694, 'timestamp': 1714289914188}, {'usage': 3994508, 'timestamp': 1714289916128}, {'usage': 4029161, 'timestamp': 1714289917941}, {'usage': 4031276, 'timestamp': 1714289919555}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 2131973, 'timestamp': 1714289908185}, {'usage': 2141497, 'timestamp': 1714289909340}, {'usage': 2167060, 'timestamp': 1714289910491}, {'usage': 2184042, 'timestamp': 1714289911644}, {'usage': 2198727, 'timestamp': 1714289912797}, {'usage': 2217064, 'timestamp': 1714289914240}, {'usage': 2240069, 'timestamp': 1714289915692}, {'usage': 2269357, 'timestamp': 1714289917120}, {'usage': 2269357, 'timestamp': 1714289918566}, {'usage': 2275607, 'timestamp': 1714289919720}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 947810, 'timestamp': 1714289908186}, {'usage': 976545, 'timestamp': 1714289909338}, {'usage': 1002068, 'timestamp': 1714289910490}, {'usage': 1038386, 'timestamp': 1714289911643}, {'usage': 1062032, 'timestamp': 1714289912798}, {'usage': 1117888, 'timestamp': 1714289914241}, {'usage': 1156368, 'timestamp': 1714289915691}, {'usage': 1171563, 'timestamp': 1714289917121}, {'usage': 1171809, 'timestamp': 1714289918567}, {'usage': 1180790, 'timestamp': 1714289919721}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 2147887, 'timestamp': 1714289910253}, {'usage': 2161149, 'timestamp': 1714289911328}, {'usage': 2175438, 'timestamp': 1714289912409}, {'usage': 2191931, 'timestamp': 1714289913555}, {'usage': 2201797, 'timestamp': 1714289914699}, {'usage': 2209898, 'timestamp': 1714289915778}, {'usage': 2218062, 'timestamp': 1714289916855}, {'usage': 2218062, 'timestamp': 1714289917931}, {'usage': 2218282, 'timestamp': 1714289919006}, {'usage': 2224245, 'timestamp': 1714289920083}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 753117, 'timestamp': 1714289910252}, {'usage': 774687, 'timestamp': 1714289911329}, {'usage': 789577, 'timestamp': 1714289912410}, {'usage': 802945, 'timestamp': 1714289913553}, {'usage': 812856, 'timestamp': 1714289914700}, {'usage': 835606, 'timestamp': 1714289915776}, {'usage': 850621, 'timestamp': 1714289916854}, {'usage': 850621, 'timestamp': 1714289917932}, {'usage': 850879, 'timestamp': 1714289919008}, {'usage': 865205, 'timestamp': 1714289920081}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: compose-post-service, usage_rate: 72.23192984035232, involved_nodes: 4, current_cpu_usage_rate: 18.05798246008808, target_cpu_utilization: 80
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:40] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:41] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:41] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:41] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:42] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-704 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
Exception in thread Thread-708 (request_resource_info):
    self.send(msg)
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    conn = self._new_conn()
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6823380b0>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

    httplib_response = self._make_request(
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
    conn.request(method, url, **httplib_request_kw)
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/url-shorten-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6823380b0>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
    self.run()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd682338230>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    resp = conn.urlopen(
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/url-shorten-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682338230>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/url-shorten-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6823380b0>: Failed to establish a new connection: [Errno 111] Connection refused'))
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/url-shorten-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682338230>: Failed to establish a new connection: [Errno 111] Connection refused'))
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:42] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:{'container_name': 'url-shorten-service', 'cpu_request': 30, 'usages': [{'usage': 1842921, 'timestamp': 1714289912436}, {'usage': 1869114, 'timestamp': 1714289913444}, {'usage': 1893498, 'timestamp': 1714289914674}, {'usage': 1921200, 'timestamp': 1714289915682}, {'usage': 1941957, 'timestamp': 1714289917081}, {'usage': 1941957, 'timestamp': 1714289918088}, {'usage': 1941957, 'timestamp': 1714289919095}, {'usage': 1958005, 'timestamp': 1714289920102}, {'usage': 1985039, 'timestamp': 1714289921108}, {'usage': 2011200, 'timestamp': 1714289922115}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: url-shorten-service, usage_rate: 86.59715326050976, involved_nodes: 1, current_cpu_usage_rate: 86.59715326050976, target_cpu_utilization: 80
ERROR:root:Scale out [url-shorten-service] replicas: 2
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:42] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:38:43] "[32mGET /api/v1/agent HTTP/1.1[0m" 308 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:43] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:upstream-agent-5kp6l
ERROR:root:10.244.1.232
ERROR:root:upstream-agent-gbpp7
ERROR:root:10.244.4.116
ERROR:root:upstream-agent-jtpqx
ERROR:root:10.244.5.228
ERROR:root:upstream-agent-mbjt9
ERROR:root:10.244.2.136
ERROR:root:upstream-agent-wfgjv
ERROR:root:10.244.3.179
ERROR:root:[{'name': 'upstream-agent-5kp6l', 'pod_ip': '10.244.1.232', 'host_ip': '10.142.0.3'}, {'name': 'upstream-agent-gbpp7', 'pod_ip': '10.244.4.116', 'host_ip': '10.128.0.5'}, {'name': 'upstream-agent-jtpqx', 'pod_ip': '10.244.5.228', 'host_ip': '10.206.0.2'}, {'name': 'upstream-agent-mbjt9', 'pod_ip': '10.244.2.136', 'host_ip': '10.150.0.3'}, {'name': 'upstream-agent-wfgjv', 'pod_ip': '10.244.3.179', 'host_ip': '10.202.0.2'}]
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:38:43] "GET /api/v1/agent/ HTTP/1.1" 200 -
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:38:43] "GET /api/v1/hpas HTTP/1.1" 200 -
Exception in thread Thread-717 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
Exception in thread Thread-721 (request_resource_info):
    conn = self._new_conn()
Traceback (most recent call last):
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6822df6b0>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/post-storage-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822df6b0>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self.send(msg)
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
    self.connect()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6822e1430>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
    r = adapter.send(request, **kwargs)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/post-storage-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822e1430>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

    raise ConnectionError(e, request=request)
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/post-storage-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822df6b0>: Failed to establish a new connection: [Errno 111] Connection refused'))
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/post-storage-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822e1430>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'post-storage-service', 'cpu_request': 30, 'usages': [{'usage': 1818025, 'timestamp': 1714289913442}, {'usage': 1837984, 'timestamp': 1714289914672}, {'usage': 1855949, 'timestamp': 1714289915679}, {'usage': 1874797, 'timestamp': 1714289917079}, {'usage': 1877392, 'timestamp': 1714289918086}, {'usage': 1877392, 'timestamp': 1714289919093}, {'usage': 1890998, 'timestamp': 1714289920099}, {'usage': 1906884, 'timestamp': 1714289921106}, {'usage': 1923842, 'timestamp': 1714289922113}, {'usage': 1940500, 'timestamp': 1714289923121}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'post-storage-service', 'cpu_request': 30, 'usages': [{'usage': 3556371, 'timestamp': 1714289908454}, {'usage': 3593426, 'timestamp': 1714289909865}, {'usage': 3632041, 'timestamp': 1714289911322}, {'usage': 3675930, 'timestamp': 1714289912973}, {'usage': 3716820, 'timestamp': 1714289914593}, {'usage': 3761969, 'timestamp': 1714289916534}, {'usage': 3765171, 'timestamp': 1714289918348}, {'usage': 3777979, 'timestamp': 1714289919758}, {'usage': 3810866, 'timestamp': 1714289921171}, {'usage': 3854663, 'timestamp': 1714289922581}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'post-storage-service', 'cpu_request': 30, 'usages': [{'usage': 1632240, 'timestamp': 1714289913558}, {'usage': 1652577, 'timestamp': 1714289914703}, {'usage': 1674469, 'timestamp': 1714289915781}, {'usage': 1705443, 'timestamp': 1714289916858}, {'usage': 1710046, 'timestamp': 1714289917935}, {'usage': 1710635, 'timestamp': 1714289919010}, {'usage': 1728552, 'timestamp': 1714289920086}, {'usage': 1762362, 'timestamp': 1714289921164}, {'usage': 1791775, 'timestamp': 1714289922276}, {'usage': 1819771, 'timestamp': 1714289923357}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: post-storage-service, usage_rate: 244.95246048876947, involved_nodes: 3, current_cpu_usage_rate: 81.65082016292315, target_cpu_utilization: 80
ERROR:root:Scale out [post-storage-service] replicas: 5
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:43] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:44] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:38:44] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:44] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:44] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:38:45] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:45] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:45] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:45] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.2.136 - - [28/Apr/2024 07:38:45] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:45] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:46] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-736 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd68232eab0>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
Exception in thread Thread-740 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    retries = retries.increment(
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
Exception in thread Thread-739 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/compose-post-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd68232eab0>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
    conn.request(method, url, **httplib_request_kw)
    self.run()
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
  File "/manager/collector.py", line 16, in request_resource_info
    sock.connect(sa)
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
ConnectionRefusedError: [Errno 111] Connection refused
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)

During handling of the above exception, another exception occurred:
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    return request("get", url, params=params, **kwargs)
Traceback (most recent call last):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    return session.request(method=method, url=url, **kwargs)
    self._send_output(message_body, encode_chunked=encode_chunked)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    httplib_response = self._make_request(
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
    self.send(msg)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self.connect()
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
    conn = self._new_conn()
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
           ^^^^^^^^^^^^^^^^
    r = adapter.send(request, **kwargs)
    self._send_output(message_body, encode_chunked=encode_chunked)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/compose-post-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd68232eab0>: Failed to establish a new connection: [Errno 111] Connection refused'))
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd68232d760>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    conn = self._new_conn()
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/compose-post-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd68232d760>: Failed to establish a new connection: [Errno 111] Connection refused'))
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd68232dc10>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    self.run()
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.2.136', port=3001): Max retries exceeded with url: /api/v1/metrics/compose-post-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd68232dc10>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
  File "/manager/collector.py", line 16, in request_resource_info
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    return request("get", url, params=params, **kwargs)
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    return session.request(method=method, url=url, **kwargs)
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    resp = self.send(prep, **send_kwargs)
    raise ConnectionError(e, request=request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/compose-post-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd68232d760>: Failed to establish a new connection: [Errno 111] Connection refused'))
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.2.136', port=3001): Max retries exceeded with url: /api/v1/metrics/compose-post-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd68232dc10>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 806774, 'timestamp': 1714289917077}, {'usage': 806774, 'timestamp': 1714289918084}, {'usage': 806774, 'timestamp': 1714289919091}, {'usage': 816625, 'timestamp': 1714289920097}, {'usage': 834865, 'timestamp': 1714289921104}, {'usage': 849964, 'timestamp': 1714289922111}, {'usage': 867290, 'timestamp': 1714289923119}, {'usage': 885644, 'timestamp': 1714289924126}, {'usage': 910976, 'timestamp': 1714289925357}, {'usage': 929856, 'timestamp': 1714289926586}], 'metric_path': ''}
ERROR:root:10
ERROR:root:{'container_name': 'compose-post-service', 'cpu_request': 30, 'usages': [{'usage': 3756549, 'timestamp': 1714289911117}, {'usage': 3827091, 'timestamp': 1714289912527}, {'usage': 3897694, 'timestamp': 1714289914188}, {'usage': 3994508, 'timestamp': 1714289916128}, {'usage': 4029161, 'timestamp': 1714289917941}, {'usage': 4031276, 'timestamp': 1714289919555}, {'usage': 4124623, 'timestamp': 1714289920967}, {'usage': 4215647, 'timestamp': 1714289922377}, {'usage': 4294574, 'timestamp': 1714289923787}, {'usage': 4366883, 'timestamp': 1714289925397}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: compose-post-service, usage_rate: 200.91501784850922, involved_nodes: 2, current_cpu_usage_rate: 100.45750892425461, target_cpu_utilization: 80
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:38:46] "POST /api/v1/notify HTTP/1.1" 200 -
ERROR:root:Scale out [compose-post-service] replicas: 9
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:47] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:47] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:47] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:47] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:38:48] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:49] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:49] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:49] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:49] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:50] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-756 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd68232e540>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.5.228', port=3001): Max retries exceeded with url: /api/v1/metrics/text-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd68232e540>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.5.228', port=3001): Max retries exceeded with url: /api/v1/metrics/text-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd68232e540>: Failed to establish a new connection: [Errno 111] Connection refused'))
Exception in thread Thread-754 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
Exception in thread Thread-758 (request_resource_info):
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
Traceback (most recent call last):
Exception in thread Thread-757 (request_resource_info):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = connection.create_connection(
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    conn = connection.create_connection(
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    raise err
    sock.connect(sa)
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

    raise NewConnectionError(
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd68232c500>: Failed to establish a new connection: [Errno 111] Connection refused
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
    resp = conn.urlopen(
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    conn.request(method, url, **httplib_request_kw)
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    retries = retries.increment(
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
              ^^^^^^^^^^^^^^^^^^
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:51] "POST /api/v1/notify HTTP/1.1" 200 -
    self.endheaders(body, encode_chunked=encode_chunked)
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/text-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd68232c500>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self._send_output(message_body, encode_chunked=encode_chunked)
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.run()
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    self.connect()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
    self._target(*self._args, **self._kwargs)
    conn = self._new_conn()
  File "/manager/collector.py", line 16, in request_resource_info
           ^^^^^^^^^^^^^^^^
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd68232c800>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    raise NewConnectionError(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd68232e360>: Failed to establish a new connection: [Errno 111] Connection refused

  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
    retries = retries.increment(
    return request("get", url, params=params, **kwargs)
              ^^^^^^^^^^^^^^^^^^
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    retries = retries.increment(
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
    raise ConnectionError(e, request=request)
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/text-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd68232c500>: Failed to establish a new connection: [Errno 111] Connection refused'))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.2.136', port=3001): Max retries exceeded with url: /api/v1/metrics/text-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd68232c800>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/text-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd68232e360>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    self.run()
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
    return session.request(method=method, url=url, **kwargs)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.2.136', port=3001): Max retries exceeded with url: /api/v1/metrics/text-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd68232c800>: Failed to establish a new connection: [Errno 111] Connection refused'))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/text-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd68232e360>: Failed to establish a new connection: [Errno 111] Connection refused'))
Exception in thread Thread-762 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd68232ea20>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.5.228', port=3001): Max retries exceeded with url: /api/v1/metrics/user-mention-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd68232ea20>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.5.228', port=3001): Max retries exceeded with url: /api/v1/metrics/user-mention-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd68232ea20>: Failed to establish a new connection: [Errno 111] Connection refused'))
Exception in thread Thread-760 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd68232e6f0>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
Exception in thread Thread-764 (request_resource_info):
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
Exception in thread Thread-763 (request_resource_info):
    conn = connection.create_connection(
Traceback (most recent call last):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    raise err
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/user-mention-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd68232e6f0>: Failed to establish a new connection: [Errno 111] Connection refused'))
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:
    raise err
    self.run()

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    httplib_response = self._make_request(
    sock.connect(sa)
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    httplib_response = self._make_request(
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
                       ^^^^^^^^^^^^^^^^^^^
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    return request("get", url, params=params, **kwargs)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    self.endheaders(body, encode_chunked=encode_chunked)
    conn = self._new_conn()
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    self._send_output(message_body, encode_chunked=encode_chunked)
    r = adapter.send(request, **kwargs)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6822e7c80>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    raise ConnectionError(e, request=request)
    resp = conn.urlopen(
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/user-mention-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd68232e6f0>: Failed to establish a new connection: [Errno 111] Connection refused'))
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
    retries = retries.increment(
           ^^^^^^^^^^^^^^^^
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd68232f410>: Failed to establish a new connection: [Errno 111] Connection refused
    raise MaxRetryError(_pool, url, error or ResponseError(cause))

During handling of the above exception, another exception occurred:
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/user-mention-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822e7c80>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner

    self.run()
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    self._target(*self._args, **self._kwargs)
    retries = retries.increment(
  File "/manager/collector.py", line 16, in request_resource_info
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.2.136', port=3001): Max retries exceeded with url: /api/v1/metrics/user-mention-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd68232f410>: Failed to establish a new connection: [Errno 111] Connection refused'))

  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/user-mention-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822e7c80>: Failed to establish a new connection: [Errno 111] Connection refused'))
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.2.136', port=3001): Max retries exceeded with url: /api/v1/metrics/user-mention-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd68232f410>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'user-mention-service', 'cpu_request': 30, 'usages': [{'usage': 3452681, 'timestamp': 1714289916736}, {'usage': 3452995, 'timestamp': 1714289918349}, {'usage': 3475006, 'timestamp': 1714289919760}, {'usage': 3532276, 'timestamp': 1714289921173}, {'usage': 3578871, 'timestamp': 1714289922582}, {'usage': 3629495, 'timestamp': 1714289924191}, {'usage': 3672288, 'timestamp': 1714289925843}, {'usage': 3709243, 'timestamp': 1714289927654}, {'usage': 3757386, 'timestamp': 1714289929471}, {'usage': 3757386, 'timestamp': 1714289931089}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: user-mention-service, usage_rate: 0.0, involved_nodes: 1, current_cpu_usage_rate: 0.0, target_cpu_utilization: 80
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:52] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:53] "POST /api/v1/notify HTTP/1.1" 200 -
Exception in thread Thread-769 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6822e5f10>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.5.228', port=3001): Max retries exceeded with url: /api/v1/metrics/home-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822e5f10>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.5.228', port=3001): Max retries exceeded with url: /api/v1/metrics/home-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822e5f10>: Failed to establish a new connection: [Errno 111] Connection refused'))
Exception in thread Thread-767 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
Exception in thread Thread-771 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd68232f920>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
    retries = retries.increment(
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
    conn.request(method, url, **httplib_request_kw)
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/home-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd68232f920>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
Exception in thread Thread-770 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self.run()
    self._send_request(method, url, body, headers, encode_chunked)
    conn = connection.create_connection(
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self._target(*self._args, **self._kwargs)
    self.send(msg)
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

  File "/manager/collector.py", line 16, in request_resource_info
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
    raise NewConnectionError(
During handling of the above exception, another exception occurred:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6822e7800>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get

Traceback (most recent call last):
    return request("get", url, params=params, **kwargs)

           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
    return session.request(method=method, url=url, **kwargs)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    resp = conn.urlopen(
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    r = adapter.send(request, **kwargs)
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/home-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822e7800>: Failed to establish a new connection: [Errno 111] Connection refused'))

    self._send_request(method, url, body, headers, encode_chunked)
During handling of the above exception, another exception occurred:

  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    self.endheaders(body, encode_chunked=encode_chunked)
    raise ConnectionError(e, request=request)
    self.run()
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/home-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd68232f920>: Failed to establish a new connection: [Errno 111] Connection refused'))
    self._send_output(message_body, encode_chunked=encode_chunked)
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
  File "/manager/collector.py", line 16, in request_resource_info
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    self.connect()
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.3.179', port=3001): Max retries exceeded with url: /api/v1/metrics/home-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822e7800>: Failed to establish a new connection: [Errno 111] Connection refused'))
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6822e5310>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.2.136', port=3001): Max retries exceeded with url: /api/v1/metrics/home-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822e5310>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.2.136', port=3001): Max retries exceeded with url: /api/v1/metrics/home-timeline-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6822e5310>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'home-timeline-service', 'cpu_request': 30, 'usages': [{'usage': 3869197, 'timestamp': 1714289919755}, {'usage': 3911831, 'timestamp': 1714289921169}, {'usage': 3965248, 'timestamp': 1714289922578}, {'usage': 4028259, 'timestamp': 1714289923988}, {'usage': 4087389, 'timestamp': 1714289925639}, {'usage': 4138023, 'timestamp': 1714289927249}, {'usage': 4197961, 'timestamp': 1714289929062}, {'usage': 4199810, 'timestamp': 1714289930883}, {'usage': 4214065, 'timestamp': 1714289932299}, {'usage': 4248081, 'timestamp': 1714289933514}], 'metric_path': ''}
ERROR:root:10
ERROR:root:deployment: home-timeline-service, usage_rate: 93.32235939643347, involved_nodes: 1, current_cpu_usage_rate: 93.32235939643347, target_cpu_utilization: 80
ERROR:root:Scale out [home-timeline-service] replicas: 10
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:54] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:55] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:57] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:57] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.4.116 - - [28/Apr/2024 07:38:58] "POST /api/v1/notify HTTP/1.1" 200 -
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:38:58] "GET /api/v1/hpas HTTP/1.1" 200 -
Exception in thread Thread-782 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd682147920>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.5.228', port=3001): Max retries exceeded with url: /api/v1/metrics/user-mention-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682147920>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.5.228', port=3001): Max retries exceeded with url: /api/v1/metrics/user-mention-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd682147920>: Failed to establish a new connection: [Errno 111] Connection refused'))
Exception in thread Thread-781 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd684785190>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.4.116', port=3001): Max retries exceeded with url: /api/v1/metrics/user-mention-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd684785190>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.4.116', port=3001): Max retries exceeded with url: /api/v1/metrics/user-mention-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd684785190>: Failed to establish a new connection: [Errno 111] Connection refused'))
Exception in thread Thread-780 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self.connect()
Exception in thread Thread-783 (request_resource_info):
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 174, in _new_conn
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = connection.create_connection(
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 95, in create_connection
           ^^^^^^^^^^^^^^^^
    raise err
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    raise NewConnectionError(
    sock.connect(sa)
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd68232d760>: Failed to establish a new connection: [Errno 111] Connection refused
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:


Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 715, in urlopen
During handling of the above exception, another exception occurred:

    httplib_response = self._make_request(
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 244, in request
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "/usr/local/lib/python3.12/http/client.py", line 1336, in request
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/user-mention-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd68232d760>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.12/http/client.py", line 1091, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.12/http/client.py", line 1035, in send
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 205, in connect
    conn = self._new_conn()
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
           ^^^^^^^^^^^^^^^^
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 186, in _new_conn
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd6821459d0>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 486, in send
    return session.request(method=method, url=url, **kwargs)
    resp = conn.urlopen(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 799, in urlopen
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 592, in increment
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.1.232', port=3001): Max retries exceeded with url: /api/v1/metrics/user-mention-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd68232d760>: Failed to establish a new connection: [Errno 111] Connection refused'))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.244.2.136', port=3001): Max retries exceeded with url: /api/v1/metrics/user-mention-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6821459d0>: Failed to establish a new connection: [Errno 111] Connection refused'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/manager/collector.py", line 16, in request_resource_info
    response = requests.get("http://" + url + ":3001/api/v1/metrics/" + deployment)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.244.2.136', port=3001): Max retries exceeded with url: /api/v1/metrics/user-mention-service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd6821459d0>: Failed to establish a new connection: [Errno 111] Connection refused'))
ERROR:root:{'container_name': 'user-mention-service', 'cpu_request': 30, 'usages': [{'usage': 226053, 'timestamp': 1714289938426}, {'usage': 237884, 'timestamp': 1714289939436}], 'metric_path': ''}
ERROR:root:2
ERROR:root:deployment: user-mention-service, usage_rate: 39.04620462046205, involved_nodes: 1, current_cpu_usage_rate: 39.04620462046205, target_cpu_utilization: 80
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:39:03] "[32mGET /api/v1/agent HTTP/1.1[0m" 308 -
ERROR:root:upstream-agent-5kp6l
ERROR:root:10.244.1.232
ERROR:root:upstream-agent-gbpp7
ERROR:root:10.244.4.116
ERROR:root:upstream-agent-jtpqx
ERROR:root:10.244.5.228
ERROR:root:upstream-agent-mbjt9
ERROR:root:10.244.2.136
ERROR:root:upstream-agent-wfgjv
ERROR:root:10.244.3.179
ERROR:root:[{'name': 'upstream-agent-5kp6l', 'pod_ip': '10.244.1.232', 'host_ip': '10.142.0.3'}, {'name': 'upstream-agent-gbpp7', 'pod_ip': '10.244.4.116', 'host_ip': '10.128.0.5'}, {'name': 'upstream-agent-jtpqx', 'pod_ip': '10.244.5.228', 'host_ip': '10.206.0.2'}, {'name': 'upstream-agent-mbjt9', 'pod_ip': '10.244.2.136', 'host_ip': '10.150.0.3'}, {'name': 'upstream-agent-wfgjv', 'pod_ip': '10.244.3.179', 'host_ip': '10.202.0.2'}]
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:39:03] "GET /api/v1/agent/ HTTP/1.1" 200 -
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:39:03] "GET /api/v1/hpas HTTP/1.1" 200 -
ERROR:root:upstream-agent-5kp6l
ERROR:root:10.244.1.232
ERROR:root:upstream-agent-gbpp7
ERROR:root:10.244.4.116
ERROR:root:upstream-agent-jtpqx
ERROR:root:10.244.5.228
ERROR:root:upstream-agent-mbjt9
ERROR:root:10.244.2.136
ERROR:root:upstream-agent-wfgjv
ERROR:root:10.244.3.179
ERROR:root:[{'name': 'upstream-agent-5kp6l', 'pod_ip': '10.244.1.232', 'host_ip': '10.142.0.3'}, {'name': 'upstream-agent-gbpp7', 'pod_ip': '10.244.4.116', 'host_ip': '10.128.0.5'}, {'name': 'upstream-agent-jtpqx', 'pod_ip': '10.244.5.228', 'host_ip': '10.206.0.2'}, {'name': 'upstream-agent-mbjt9', 'pod_ip': '10.244.2.136', 'host_ip': '10.150.0.3'}, {'name': 'upstream-agent-wfgjv', 'pod_ip': '10.244.3.179', 'host_ip': '10.202.0.2'}]
INFO:werkzeug:10.244.3.179 - - [28/Apr/2024 07:39:13] "GET /api/v1/hpas HTTP/1.1" 200 -
INFO:werkzeug:10.244.5.228 - - [28/Apr/2024 07:39:19] "GET /api/v1/hpas HTTP/1.1" 200 -
